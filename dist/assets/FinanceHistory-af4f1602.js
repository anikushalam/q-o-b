import{j as a,r as s}from"./index-4403507e.js";import{a as E,a4 as S,n as i,j as C}from"./StaffMemberConfig-31be7739.js";import{s as u}from"./FinanceManager-56f6dff8.js";import{s as n}from"./TransactionHistory-92d777b3.js";import{d as F}from"./dayjs.min-c711568a.js";import{l as w}from"./localTime-4af6877b.js";import{u as v,f as D}from"./AssestsBaseUrl-0f87f19c.js";import{L as R}from"./UserMemberProfileWrapper-8e042952.js";import"./decrypt-5e8ab41f.js";import"./MethodType-30df8d44.js";import"./UserMemberContentWrapper-0eaaa04f.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-a17c5509.js";import"./CreateButton-be4cb7e7.js";import"./auth-api-e89939f9.js";import"./Modal-3d78cdaf.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const g=({history:e})=>{var p,l,t,_,d,f,r;const{t:x}=v();return a.jsxs("div",{className:n.sidebarheader,children:[a.jsxs("div",{className:n.text,children:[a.jsx("p",{className:n.rcv,children:x("paid_to")}),a.jsx("h6",{children:((p=e==null?void 0:e.payment_by_end_user_id)==null?void 0:p.userLegalName)??(e==null?void 0:e.payment_by_end_user_id_name)}),a.jsxs("p",{className:n.rcv,children:[F(e==null?void 0:e.created_at).format("DD MMM YYYY"),", ",w(e==null?void 0:e.created_at,"LT")]})]}),a.jsxs("div",{className:n.text,style:{marginTop:"0.9rem"},children:[a.jsx("p",{className:n.rcv}),a.jsxs("h6",{children:["Rs. ",e==null?void 0:e.payment_amount]}),a.jsx("p",{className:n.rcv,children:((l=e.payment_mode)==null?void 0:l.toLowerCase())==="offline"?(t=e==null?void 0:e.fee_receipt)!=null&&t.fee_payment_mode?`${(_=e==null?void 0:e.fee_receipt)==null?void 0:_.fee_payment_mode}`:"Offline - No Receipt":((d=e.payment_mode)==null?void 0:d.toLowerCase())==="online"?(f=e==null?void 0:e.fee_receipt)!=null&&f.fee_payment_mode?`${(r=e==null?void 0:e.fee_receipt)==null?void 0:r.fee_payment_mode}`:"Online - No Receipt":e==null?void 0:e.payment_mode})]})]})},Z=({instituteId:e})=>{const{t:x}=v(),[p,l]=s.useState(""),[t,_]=s.useState(1),[d,f]=s.useState(!0),[r,j]=E({skip:p}),{financeAllTransaction:m,financeAllTransactionLoading:N}=S({data:{uid:e,page:t,limit:10,search:p,filter:"Expense"},skip:!e});s.useEffect(()=>{j&&d&&_(c=>c+1)},[j,d]),s.useEffect(()=>{m!=null&&m.length&&i(m==null?void 0:m.length,f)},[m==null?void 0:m.length]);const o=s.useCallback(C(c=>l(c),500),[]),b=c=>{o(c.target.value)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:u.fm_search_full,children:a.jsx("section",{className:u.fm_search_full_container,children:a.jsxs("div",{className:u.fm_search_full_container_inner,children:[a.jsx("img",{className:u.fm_search_full_icon,alt:"search icon",src:`${D}/navbar-search.svg`}),a.jsx("input",{type:"text",placeholder:x("search"),onChange:b})]})})}),N&&a.jsx(R,{}),m==null?void 0:m.map((c,L)=>(m==null?void 0:m.length)===L+1?a.jsx("div",{ref:r,children:a.jsx(g,{history:c})},c==null?void 0:c._id):a.jsx(g,{history:c},c==null?void 0:c._id))]})};export{Z as default};

import{j as t,i as F,r as a}from"./index-840de58d.js";import{a as L,ao as w,n as E,j as $}from"./StaffMemberConfig-7a36179e.js";import{s as m}from"./FinanceManager-0ca2f058.js";import{u as _,d as D,f as C}from"./AssestsBaseUrl-3e7ac4b0.js";import{s as o}from"./TransactionHistory-8ab505c5.js";import{l as h}from"./localTime-e3caacba.js";import{L as T}from"./Loading-1f40e573.js";import"./decrypt-c89175fd.js";import"./MethodType-30df8d44.js";import"./Modal-6a8c66d1.js";import"./BackdropModal-142f7ac8.js";import"./Utils.module-b6acf444.js";import"./UserDrawer-bfa56692.js";import"./UserMemberContentWrapper-d4cbea5a.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-8f94e437.js";import"./dayjs.min-1b7b0994.js";import"./CreateButton-390a73d1.js";import"./auth-api-76ff487b.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const x=({repay:s})=>{var n,l;const{t:i}=_();return t.jsxs("div",{className:o.settle_card,children:[t.jsxs("div",{className:o.settle_card_container,children:[t.jsx("img",{src:`${D}/qviple-logo.svg`,alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),t.jsxs("div",{className:o.settle_card_text,children:[t.jsxs("h6",{children:[i("settlement_date")," "," : ",(s==null?void 0:s.settlement_date)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[i("message")," "," : "," ",(s==null?void 0:s.message)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[i("transaction_id")," : "," ",(s==null?void 0:s.txnId)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[i("bank_name")," : ",((l=(n=s==null?void 0:s.bank_account)==null?void 0:n[0])==null?void 0:l.finance_bank_account_name)??""]})]})]}),t.jsxs("div",{className:o.settle_card_text,style:{alignItems:"flex-end"},children:[s!=null&&s.excel_attach?t.jsx("a",{title:"Download File",href:`${F}/${s==null?void 0:s.excel_attach}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:t.jsx("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon"})}):null,t.jsxs("h6",{children:[i("rs")," ",(s==null?void 0:s.repayAmount)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[h(s==null?void 0:s.createdAt,"L"),", ",h(s==null?void 0:s.createdAt,"LT")]})]})]})},p=({instituteId:s})=>{const{t:i}=_(),[n,l]=a.useState(""),[g,u]=a.useState(1),[r,j]=a.useState(!0),[f,d]=L({skip:n}),{financeAllSettlement:e,financeAllSettlementLoading:v}=w({data:{fid:s,page:g,limit:10,search:n},skip:!s});a.useEffect(()=>{d&&r&&u(c=>c+1)},[d,r]),a.useEffect(()=>{e!=null&&e.length&&E(e==null?void 0:e.length,j)},[e==null?void 0:e.length]);const b=a.useCallback($(c=>l(c),500),[]),N=c=>{b(c.target.value)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:m.fm_search_full,children:t.jsx("section",{className:m.fm_search_full_container,children:t.jsxs("div",{className:m.fm_search_full_container_inner,children:[t.jsx("img",{className:m.fm_search_full_icon,alt:"search icon",src:`${C}/navbar-search.svg`}),t.jsx("input",{type:"text",placeholder:i("search"),onChange:N})]})})}),v&&t.jsx(T,{}),e==null?void 0:e.map((c,k)=>(e==null?void 0:e.length)===k+1?t.jsx("div",{ref:f,children:t.jsx(x,{repay:c})},c==null?void 0:c._id):t.jsx(x,{repay:c},c==null?void 0:c._id))]})};export{p as default};

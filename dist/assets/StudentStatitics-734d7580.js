import{u as C,f as U,a as W,r as d,j as e,Q as L}from"./index-840de58d.js";import{B as k,U as N}from"./UserMemberContentWrapper-d4cbea5a.js";import{U as H,s as $}from"./FinanceManager-0ca2f058.js";import{s}from"./StudentStatitics.module-ae8241d4.js";import{u as S,c as E,f as O}from"./AssestsBaseUrl-3e7ac4b0.js";import{S as Q}from"./SelectDepartment-3172bd08.js";import{s as o}from"./PlateformUser.module-0e3694bb.js";import{M as q}from"./Modal-6a8c66d1.js";import{A as z,ae as G}from"./StaffMemberConfig-7a36179e.js";import"./Loading-1f40e573.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-8f94e437.js";import"./dayjs.min-1b7b0994.js";import"./CreateButton-390a73d1.js";import"./auth-api-76ff487b.js";import"./MethodType-30df8d44.js";import"./checkingRequiredField-382733fa.js";import"./BackdropModal-142f7ac8.js";import"./Utils.module-b6acf444.js";import"./decrypt-c89175fd.js";import"./UserDrawer-bfa56692.js";const I=({statitics:i})=>{const{t:n}=S(),l=C(),t=U(),h=W(),_=d.useCallback(a=>{(a==null?void 0:a.length)>0&&l(`/${t.username}/member/staff/finance?type=statistics-detail`,{state:{...h.state,studentList:a}})},[l,t]);return e.jsxs("div",{className:s.ss_table,children:[e.jsxs("section",{className:s.ss_table_header,children:[e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"2rem"},children:n("sr_no")})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"12rem"},children:n("classes")})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:n("strength")})}),f==null?void 0:f.map(a=>e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:n(a.name)})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},a.key)),e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("h6",{className:s.ss_table_header_h6,children:n("minority")}),e.jsx("div",{className:s.ss_table_minority,children:J.map(a=>e.jsxs("div",{className:s.ss_table_minority_inner,children:[e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:n(a.name)}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},a.key))})]}),y==null?void 0:y.map(a=>e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:n(a.name)})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},a.key)),e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,style:{borderRight:"1px solid #cacaca"},children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"8rem"},children:n("all_grand_total")})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"F"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{borderRight:"1px solid #cacaca"},children:n("total")})]})]})]}),i==null?void 0:i.map((a,x)=>e.jsxs("section",{className:s.ss_table_header,style:{paddingTop:"0",paddingBottom:"1rem",height:"2rem"},children:[e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"2rem"},children:x+1})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"12rem"},children:a==null?void 0:a.className})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:a==null?void 0:a.strength})}),u==null?void 0:u.map(r=>e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer"},onClick:()=>_(a[`${r.name}_m_arr`]),children:a[`${r.name}_m`]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer"},onClick:()=>_(a[`${r.name}_f_arr`]),children:a[`${r.name}_f`]})]})},r.name)),e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsx("div",{className:s.ss_table_minority,children:K.map(r=>e.jsx("div",{className:s.ss_table_minority_inner,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer"},onClick:()=>_(a[`${sc.name}_m_arr`]),children:a[`${r.name}_m`]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer"},onClick:()=>_(a[`${sc.name}_f_arr`]),children:a[`${r.name}_f`]})]})},r.name))})}),g==null?void 0:g.map(r=>e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsxs("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer"},onClick:()=>_(a[`${r.name}_m_arr`]),children:[" ",a[`${r.name}_m`]]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer"},onClick:()=>_(a[`${r.name}_f_arr`]),children:a[`${r.name}_f`]})]})},r.name)),e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.6rem - 0.83rem)"},children:a.boy}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.6rem - 0.83rem)"},children:a.girl}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{borderRight:"1px solid #cacaca",width:"calc(2.6rem - 0.83rem)"},children:a.strength})]})})]}))]})},f=[{name:"general",key:0},{name:"sc",key:1},{name:"st",key:2},{name:"dt",key:3},{name:"nt",key:4},{name:"obc",key:5},{name:"sbc",key:6},{name:"muslim",key:7},{name:"maratha",key:8},{name:"ews",key:9},{name:"ph",key:10},{name:"jk_students",key:11},{name:"goins_students",key:12}],J=[{name:"sikh",key:"sikh"},{name:"jainism",key:"jainism"},{name:"buddhism",key:"buddhism"},{name:"christian",key:"christian"},{name:"parsi",key:"parsi"},{name:"jews",key:"jews"}],y=[{name:"hindu",key:"hindu"},{name:"muslim",key:"muslim"}],u=[{name:"general"},{name:"sc"},{name:"st"},{name:"dt"},{name:"nt"},{name:"obc"},{name:"sbc"},{name:"muslim"},{name:"maratha"},{name:"ews"},{name:"ph"},{name:"jk"},{name:"goins"}],K=[{name:"sikh"},{name:"jain"},{name:"budh"},{name:"christian"},{name:"parsi"},{name:"jews"}],g=[{name:"hindu"},{name:"muslim"}],X=({batch:i,onSelect:n})=>{const l=()=>{n(i)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:o.assign_show_list_each,onClick:l,children:[e.jsx("img",{src:`${E}/class.svg`,style:{borderRadius:"0"},alt:"batch icon"}),e.jsx("div",{className:o.assign_each_paragraph,children:e.jsx("h6",{children:(i==null?void 0:i.batchName)??""})})]}),e.jsx(k,{customStyleBorder:{margin:"0"}})]})},Y=({onClose:i,onSelect:n,did:l})=>{const{t}=S(),[h,_]=d.useState([]),{departmentAllBatch:a,departmentAllBatchLoading:x}=z({did:l,skip:!l});d.useEffect(()=>{a!=null&&a.length&&_(a)},[a==null?void 0:a.length]);const r=c=>{if(c.target.value){let p=Z(a,c.target.value);_(p)}else _(a)},b=c=>{n(c)};return e.jsx(q,{onClose:i,children:e.jsxs("div",{className:o.modal_container,children:[e.jsx(N,{children:e.jsxs("div",{className:o.modal_container_outer_header,children:[e.jsx("div",{className:o.modal_container_header,children:e.jsx("h6",{children:t("select_batch")})}),e.jsx("img",{src:`${E}/close.svg`,alt:"close icon",onClick:i})]})}),e.jsx(k,{}),e.jsxs(N,{customStyle:{paddingTop:"0",paddingBottom:"1rem"},children:[e.jsxs("div",{className:o.assign_search_container,style:{marginBottom:"0.8rem"},children:[e.jsx("input",{type:"text",placeholder:t("search"),className:o.assign_search_input,onChange:r}),e.jsx("img",{src:`${O}/navbar-search.svg`,alt:"search icon"})]}),h==null?void 0:h.map(c=>e.jsx(X,{batch:c,onSelect:b},c==null?void 0:c._id))]})]})})},Z=(i,n)=>i==null?void 0:i.filter(l=>{var t;return(t=l==null?void 0:l.batchName)!=null&&t.includes(n)?l:null}),ye=({fid:i})=>{const{t:n}=S(),l=C(),[t,h]=d.useState("DEPARTMENT"),[_,a]=d.useState(""),[x,r]=d.useState(""),[b,c]=d.useState(!1),[p]=G(),[M,B]=d.useState([]),D=()=>{t==="OWN_DEPARTMENT"?h(""):l(-1)},F=()=>{h("DEPARTMENT")},A=m=>{a(m),h("BATCH")},R=m=>{h(""),m!=null&&m._id&&(r(m),c(j=>!j),p({bid:m==null?void 0:m._id}).then(j=>{var v,w,T;((w=(v=j.data)==null?void 0:v.excel_list)==null?void 0:w.length)>0&&B((T=j.data)==null?void 0:T.excel_list),c(P=>!P)}).catch({}))};return e.jsxs(e.Fragment,{children:[e.jsxs(H,{customStyle:{maxWidth:"870px"},children:[e.jsx(N,{children:e.jsx("div",{className:$.fm_header_container,children:e.jsx("h6",{children:n("student_statitics")})})}),e.jsx(k,{}),e.jsxs(N,{customStyle:{paddingTop:"0.2rem"},children:[e.jsxs("h6",{className:$.fm_title_heading,onClick:()=>h("OWN_DEPARTMENT"),children:[n("department_name")," "," : ",(_==null?void 0:_.dName)??""," ",e.jsx("span",{children:(x==null?void 0:x.batchName)??""})]}),e.jsx(I,{statitics:M})]})]}),t==="DEPARTMENT"||t==="OWN_DEPARTMENT"?e.jsx(Q,{onClose:D,fid:i,onSelect:A}):t==="BATCH"?e.jsx(Y,{onClose:F,did:_==null?void 0:_._id,onSelect:R}):null,b&&e.jsx(L,{})]})};export{ye as default};

import{j as a,r as p}from"./index-840de58d.js";import{a as L,a4 as E,n as S,j as C}from"./StaffMemberConfig-7a36179e.js";import{s as u}from"./FinanceManager-0ca2f058.js";import{s as n}from"./TransactionHistory-8ab505c5.js";import{d as F}from"./dayjs.min-1b7b0994.js";import{l as w}from"./localTime-e3caacba.js";import{u as v,f as D}from"./AssestsBaseUrl-3e7ac4b0.js";import{L as R}from"./Loading-1f40e573.js";import"./decrypt-c89175fd.js";import"./MethodType-30df8d44.js";import"./Modal-6a8c66d1.js";import"./BackdropModal-142f7ac8.js";import"./Utils.module-b6acf444.js";import"./UserDrawer-bfa56692.js";import"./UserMemberContentWrapper-d4cbea5a.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-8f94e437.js";import"./CreateButton-390a73d1.js";import"./auth-api-76ff487b.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const g=({history:e})=>{var s,l,t,_,d,f,r;const{t:x}=v();return a.jsxs("div",{className:n.sidebarheader,children:[a.jsxs("div",{className:n.text,children:[a.jsx("p",{className:n.rcv,children:x("paid_to")}),a.jsx("h6",{children:((s=e==null?void 0:e.payment_by_end_user_id)==null?void 0:s.userLegalName)??(e==null?void 0:e.payment_by_end_user_id_name)}),a.jsxs("p",{className:n.rcv,children:[F(e==null?void 0:e.created_at).format("DD MMM YYYY"),", ",w(e==null?void 0:e.created_at,"LT")]})]}),a.jsxs("div",{className:n.text,style:{marginTop:"0.9rem"},children:[a.jsx("p",{className:n.rcv}),a.jsxs("h6",{children:["Rs. ",e==null?void 0:e.payment_amount]}),a.jsx("p",{className:n.rcv,children:((l=e.payment_mode)==null?void 0:l.toLowerCase())==="offline"?(t=e==null?void 0:e.fee_receipt)!=null&&t.fee_payment_mode?`${(_=e==null?void 0:e.fee_receipt)==null?void 0:_.fee_payment_mode}`:"Offline - No Receipt":((d=e.payment_mode)==null?void 0:d.toLowerCase())==="online"?(f=e==null?void 0:e.fee_receipt)!=null&&f.fee_payment_mode?`${(r=e==null?void 0:e.fee_receipt)==null?void 0:r.fee_payment_mode}`:"Online - No Receipt":e==null?void 0:e.payment_mode})]})]})},A=({instituteId:e})=>{const{t:x}=v(),[s,l]=p.useState(""),[t,_]=p.useState(1),[d,f]=p.useState(!0),[r,j]=L({skip:s}),{financeAllTransaction:m,financeAllTransactionLoading:N}=E({data:{uid:e,page:t,limit:10,search:s,filter:"Expense"},skip:!e});p.useEffect(()=>{j&&d&&_(c=>c+1)},[j,d]),p.useEffect(()=>{m!=null&&m.length&&S(m==null?void 0:m.length,f)},[m==null?void 0:m.length]);const o=p.useCallback(C(c=>l(c),500),[]),b=c=>{o(c.target.value)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:u.fm_search_full,children:a.jsx("section",{className:u.fm_search_full_container,children:a.jsxs("div",{className:u.fm_search_full_container_inner,children:[a.jsx("img",{className:u.fm_search_full_icon,alt:"search icon",src:`${D}/navbar-search.svg`}),a.jsx("input",{type:"text",placeholder:x("search"),onChange:b})]})})}),N&&a.jsx(R,{}),m==null?void 0:m.map((c,i)=>(m==null?void 0:m.length)===i+1?a.jsx("div",{ref:r,children:a.jsx(g,{history:c})},c==null?void 0:c._id):a.jsx(g,{history:c},c==null?void 0:c._id))]})};export{A as default};

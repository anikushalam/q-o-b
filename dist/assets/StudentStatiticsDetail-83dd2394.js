import{f as C,u as L,a as N,j as e,i as U,r as l,w as $,Q as u}from"./index-4403507e.js";import{u as E,b as w,f as B}from"./AssestsBaseUrl-0f87f19c.js";import{B as k}from"./UserMemberProfileWrapper-8e042952.js";import{C as z}from"./CreateButton-be4cb7e7.js";import{U as A,s as m}from"./FinanceManager-56f6dff8.js";import{U as b}from"./UserMemberContentWrapper-0eaaa04f.js";import{s as x}from"./PendingFees.module-400ac0f4.js";import{ai as D}from"./StaffMemberConfig-31be7739.js";import"./Modal-3d78cdaf.js";import"./Utils.module-b6acf444.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-a17c5509.js";import"./dayjs.min-c711568a.js";import"./auth-api-e89939f9.js";import"./MethodType-30df8d44.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";import"./decrypt-5e8ab41f.js";const F=({student:a})=>{const{t:s}=E(),i=C(),o=L(),c=N(),p=()=>{var f,d,h;o(`/${i.username}/student/profile`,{state:{fid:(f=c.state)==null?void 0:f.fid,sid:(d=c.state)==null?void 0:d.sid,staffProfilePhoto:(h=c.state)==null?void 0:h.staffProfilePhoto,studentId:a==null?void 0:a._id}})};return e.jsx("div",{className:x.pending_fees_card,onClick:p,children:e.jsxs("div",{className:x.pending_fees_card_container,children:[e.jsx("img",{alt:"Student Avatar",src:a!=null&&a.studentProfilePhoto?`${U}/${a==null?void 0:a.studentProfilePhoto}`:`${w}/feed-user-avatar.svg`,loading:"lazy"}),e.jsxs("div",{className:x.pending_fees_card_inner,children:[e.jsx("h6",{style:{fontSize:"13px",margin:"0"},children:(a==null?void 0:a.valid_full_name)??""}),e.jsxs("p",{style:{fontSize:"11px"},children:[s("roll_no")," "," : ",(a==null?void 0:a.studentROLLNO)??""]}),e.jsxs("p",{style:{fontSize:"11px"},children:[s("gr_number")," : ",(a==null?void 0:a.studentGRNO)??""]})]})]})})},sa=()=>{var _,j,S;const{t:a}=E(),s=N(),[i,o]=l.useState([]),[c,p]=l.useState(!1),[f]=D();l.useEffect(()=>{var r,t,n;(t=(r=s==null?void 0:s.state)==null?void 0:r.studentList)!=null&&t.length&&o((n=s==null?void 0:s.state)==null?void 0:n.studentList)},[(_=s==null?void 0:s.state)==null?void 0:_.studentList]);const d=l.useCallback(r=>{var t;if(r.target.value){let n=g(i,r.target.value);o(n)}else o((t=s==null?void 0:s.state)==null?void 0:t.studentList)},[g,(j=s==null?void 0:s.state)==null?void 0:j.studentList]),h=l.useCallback(()=>{p(t=>!t);let r=[];for(let t of i)r.push(t==null?void 0:t._id);f({exportBody:{all_arr:r}}).then(t=>{var n,v;(n=t==null?void 0:t.data)!=null&&n.data&&(p(P=>!P),window.open(`${$}/${(v=t==null?void 0:t.data)==null?void 0:v.data}`,"_blank","noreferrer"))}).catch({})},[i]);return e.jsxs(e.Fragment,{children:[e.jsxs(A,{children:[e.jsx(b,{children:e.jsxs("div",{className:m.fm_header_container,children:[e.jsx("h6",{children:a(((S=s==null?void 0:s.state)==null?void 0:S.openAs)==="OVERVIEW"?"overview_statistics_detail":"student_statistics_detail")}),e.jsxs("div",{className:m.fm_search,children:[e.jsx("section",{className:m.fm_search_container,children:e.jsxs("div",{className:m.fm_search_container_inner,children:[e.jsx("img",{className:m.fm_search_icon,alt:"search icon",src:`${B}/navbar-search.svg`}),e.jsx("input",{type:"text",placeholder:a("search"),onChange:d})]})}),e.jsx(z,{label:"export",customStyle:{margin:"0",paddingBlock:"0.61rem"},onAction:h})]})]})}),e.jsx(k,{}),e.jsx(b,{customStyle:{paddingTop:"0"},children:i==null?void 0:i.map(r=>e.jsx(F,{student:r},r==null?void 0:r._id))})]}),c&&e.jsx(u,{})]})},g=(a,s)=>a==null?void 0:a.filter(i=>{var o;return(o=i==null?void 0:i.valid_full_name)!=null&&o.includes(s)?i:null});export{sa as default};

import{j as a,r as s}from"./index-0b7f6bad.js";import{a0 as i}from"./finance-manager-api-60207d3b.js";import{u as E,n as S,c as C}from"./StaffMemberConfig-a4319af1.js";import{s as u}from"./FinanceManager-a3d1c044.js";import{s as n}from"./TransactionHistory-f56009a7.js";import{d as F}from"./dayjs.min-2c4d82f7.js";import{l as w}from"./localTime-457a5ccd.js";import{u as v,f as D}from"./AssestsBaseUrl-b3cf1f1b.js";import{L as R}from"./UserMemberProfileWrapper-9593601c.js";import"./decrypt-74cd38a1.js";import"./MethodType-30df8d44.js";import"./UserMemberContentWrapper-bd4f7483.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-4c2d301f.js";import"./CreateButton-31b890b3.js";import"./auth-api-e4fca9d4.js";import"./Modal-07d3eb1d.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const g=({history:e})=>{var p,l,t,_,d,f,r;const{t:x}=v();return a.jsxs("div",{className:n.sidebarheader,children:[a.jsxs("div",{className:n.text,children:[a.jsx("p",{className:n.rcv,children:x("paid_to")}),a.jsx("h6",{children:((p=e==null?void 0:e.payment_by_end_user_id)==null?void 0:p.userLegalName)??(e==null?void 0:e.payment_by_end_user_id_name)}),a.jsxs("p",{className:n.rcv,children:[F(e==null?void 0:e.created_at).format("DD MMM YYYY"),", ",w(e==null?void 0:e.created_at,"LT")]})]}),a.jsxs("div",{className:n.text,style:{marginTop:"0.9rem"},children:[a.jsx("p",{className:n.rcv}),a.jsxs("h6",{children:["Rs. ",e==null?void 0:e.payment_amount]}),a.jsx("p",{className:n.rcv,children:((l=e.payment_mode)==null?void 0:l.toLowerCase())==="offline"?(t=e==null?void 0:e.fee_receipt)!=null&&t.fee_payment_mode?`${(_=e==null?void 0:e.fee_receipt)==null?void 0:_.fee_payment_mode}`:"Offline - No Receipt":((d=e.payment_mode)==null?void 0:d.toLowerCase())==="online"?(f=e==null?void 0:e.fee_receipt)!=null&&f.fee_payment_mode?`${(r=e==null?void 0:e.fee_receipt)==null?void 0:r.fee_payment_mode}`:"Online - No Receipt":e==null?void 0:e.payment_mode})]})]})},T=({instituteId:e})=>{const{t:x}=v(),[p,l]=s.useState(""),[t,_]=s.useState(1),[d,f]=s.useState(!0),[r,j]=E({skip:p}),{financeAllTransaction:m,financeAllTransactionLoading:N}=i({data:{uid:e,page:t,limit:10,search:p,filter:"Expense"},skip:!e});s.useEffect(()=>{j&&d&&_(c=>c+1)},[j,d]),s.useEffect(()=>{m!=null&&m.length&&S(m==null?void 0:m.length,f)},[m==null?void 0:m.length]);const o=s.useCallback(C(c=>l(c),500),[]),b=c=>{o(c.target.value)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:u.fm_search_full,children:a.jsx("section",{className:u.fm_search_full_container,children:a.jsxs("div",{className:u.fm_search_full_container_inner,children:[a.jsx("img",{className:u.fm_search_full_icon,alt:"search icon",src:`${D}/navbar-search.svg`}),a.jsx("input",{type:"text",placeholder:x("search"),onChange:b})]})})}),N&&a.jsx(R,{}),m==null?void 0:m.map((c,L)=>(m==null?void 0:m.length)===L+1?a.jsx("div",{ref:r,children:a.jsx(g,{history:c})},c==null?void 0:c._id):a.jsx(g,{history:c},c==null?void 0:c._id))]})};export{T as default};

import{j as r,r as x}from"./index-40ad8b25.js";import{a as g,an as v,n as T}from"./StaffMemberConfig-a8337ee7.js";import{U as E,s as L}from"./FinanceManager-b4a07d77.js";import{U as l}from"./UserMemberContentWrapper-04d21be5.js";import{B as U,L as Y}from"./UserMemberProfileWrapper-b0858c1e.js";import{d as $}from"./dayjs.min-c62bdfdc.js";import{s as o}from"./Income.module-200dd9e8.js";import{l as b}from"./localTime-207245a3.js";import{u as f}from"./AssestsBaseUrl-2ebdccdb.js";import"./decrypt-a000b880.js";import"./MethodType-30df8d44.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-945cedfe.js";import"./CreateButton-86dcb64a.js";import"./auth-api-a0a156f1.js";import"./Modal-53e97914.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const t=({data:s})=>{var p,n,c;const{t:i}=f();return r.jsxs("div",{className:o.student_message_container,children:[r.jsxs("div",{className:o.text,children:[r.jsx("p",{className:o.rcv,children:i("message")}),r.jsx("h6",{children:(s==null?void 0:s.message)??""}),r.jsxs("p",{className:o.rcv,children:[i("by")," "," : ",(s==null?void 0:s.message_type)??"",s!=null&&s.from?`(${((p=s==null?void 0:s.from)==null?void 0:p.staffFirstName)??""} ${((n=s==null?void 0:s.from)==null?void 0:n.staffMiddleName)??""} ${((c=s==null?void 0:s.from)==null?void 0:c.staffLastName)??""})`:""]})]}),r.jsxs("div",{className:o.text,children:[r.jsxs("h6",{children:[i("student")," "," : "," ",(s==null?void 0:s.student_list_count)??0]}),r.jsxs("p",{className:o.rcv,children:[$(s==null?void 0:s.created_at).format("DD MMM, YYYY"),", ",b(s==null?void 0:s.created_at,"LT")]})]})]})},Q=({instituteId:s})=>{const{t:i}=f(),[p,n]=x.useState(1),[c,j]=x.useState(!0),[_,h]=g(),{financeAllStudentMessageHistory:e,financeAllStudentMessageHistoryLoading:u}=v({data:{id:s,page:p,limit:10,flow:"INSTITUTE_ADMIN"},skip:!s});return x.useEffect(()=>{h&&c&&n(m=>m+1)},[h,c]),x.useEffect(()=>{e!=null&&e.length&&T(e==null?void 0:e.length,j)},[e==null?void 0:e.length]),r.jsxs(E,{children:[r.jsx(l,{children:r.jsx("div",{className:L.fm_header_container,children:r.jsx("h6",{children:i("student_message_history")})})}),r.jsx(U,{}),r.jsxs(l,{customStyle:{paddingTop:"0.3rem"},children:[u&&r.jsx(Y,{}),e==null?void 0:e.map((m,N)=>(e==null?void 0:e.length)===N+1?r.jsx("div",{ref:_,children:r.jsx(t,{data:m})},m==null?void 0:m._id):r.jsx(t,{data:m},m==null?void 0:m._id))]})]})};export{Q as default};

import{j as l,a as W,u as z,f as K,l as P,r as M}from"./index-0b7f6bad.js";import{s as $,a as h,S as q,b as J}from"./StudentAdmissionFees-acb71574.js";import{L as X,B as E}from"./UserMemberProfileWrapper-9593601c.js";import{F as _,H as Z,a as Q}from"./FormInputView-4c2d301f.js";import{F as x}from"./FormFileView-f6180f69.js";import{u as B,c as S}from"./AssestsBaseUrl-b3cf1f1b.js";import{U as L}from"./UserMemberContentWrapper-bd4f7483.js";import{a as t,b as u,c as aa}from"./finance-manager-api-60207d3b.js";import{u as la,n as ra,S as ia}from"./StaffMemberConfig-a4319af1.js";import{d as H}from"./dayjs.min-2c4d82f7.js";import{A as _a}from"./AllStudentMessageSend-19b97242.js";import"./checkingRequiredField-382733fa.js";import"./Modal-07d3eb1d.js";import"./Utils.module-b6acf444.js";import"./FormTextarea-dd65b7be.js";import"./CreateButton-31b890b3.js";import"./UiTab.module-f6b989ec.js";import"./decrypt-74cd38a1.js";import"./MethodType-30df8d44.js";const o=({children:a})=>l.jsx("div",{className:$.sp_fw,children:a}),b=({label:a,children:r})=>l.jsxs("div",{className:$.sp_fhw,children:[l.jsx("h5",{children:a}),r]}),ea=({student:a})=>{const{t:r}=B();return l.jsxs(l.Fragment,{children:[l.jsxs(b,{label:r("personal_info"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("name")} :`,value:`${(a==null?void 0:a.studentFirstName)||""} ${a!=null&&a.studentMiddleName?a==null?void 0:a.studentMiddleName:""} ${(a==null?void 0:a.studentLastName)||""}`}),l.jsx(_,{label:`${r("form_prn_enr_student_label")} :`,value:a==null?void 0:a.student_prn_enroll_number})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("date_of_birth")} :`,value:a==null?void 0:a.studentDOB}),l.jsx(_,{label:`${r("gender")} :`,value:a==null?void 0:a.studentGender})]}),l.jsx(o,{children:l.jsx(_,{label:`${r("mother_name")} :`,value:a==null?void 0:a.studentMotherName})})]}),l.jsxs(b,{label:r("other_personal"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("birth_place")} :`,value:a==null?void 0:a.studentBirthPlace}),l.jsx(_,{label:`${r("student_mobile")} :`,value:a==null?void 0:a.studentPhoneNumber})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("ration_card")} :`,value:a==null?void 0:a.studentFatherRationCardColor}),l.jsx(_,{label:`${r("aadhar_number")} :`,value:a==null?void 0:a.studentAadharNumber})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_email")} :`,value:a==null?void 0:a.studentEmail}),l.jsx(_,{label:`${r("blood_group")} :`,value:a==null?void 0:a.student_blood_group})]})]}),l.jsxs(b,{label:r("i_details"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("nationality")} :`,value:a==null?void 0:a.studentNationality}),l.jsx(_,{label:`${r("cast_category")} :`,value:a==null?void 0:a.studentCastCategory})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("religion")} :`,value:a==null?void 0:a.studentReligion}),l.jsx(_,{label:`${r("mother_tongue")} :`,value:a==null?void 0:a.studentMTongue})]}),l.jsx(o,{children:l.jsx(_,{label:`${r("caste")} :`,value:a==null?void 0:a.studentCast})})]}),l.jsx(b,{label:r("address_"),children:l.jsxs(o,{children:[l.jsx(_,{label:`${r("c_add")} :`,value:`${(a==null?void 0:a.studentCurrentAddress)||""}${a!=null&&a.studentCurrentPincode?" , ":""}${(a==null?void 0:a.studentCurrentPincode)||""}`}),l.jsx(_,{label:`${r("p_add")} :`,value:`${(a==null?void 0:a.studentAddress)||""}${a!=null&&a.studentCurrentPincode?" , ":""}${(a==null?void 0:a.studentPincode)||""}`})]})}),l.jsxs(b,{label:r("parent_info"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("name")} :`,value:a==null?void 0:a.studentParentsName}),l.jsx(_,{label:`${r("mobile_bumber")} :`,value:a==null?void 0:a.studentParentsPhoneNumber})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("occupation")} :`,value:a==null?void 0:a.studentParentsOccupation}),l.jsx(_,{label:`${r("annual_income")} :`,value:a==null?void 0:a.studentParentsAnnualIncom})]})]}),l.jsxs(b,{label:r("prev_school_and_document"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("prev_school")} :`,value:a==null?void 0:a.studentPreviousSchool}),l.jsx(x,{label:`${r("aadhar_back")} :`,value:a==null?void 0:a.studentAadharBackCard})]}),l.jsxs(o,{children:[l.jsx(x,{label:`${r("aadhar_front")} :`,value:a==null?void 0:a.studentAadharFrontCard}),l.jsx(x,{label:`${r("caste_")} :`,value:a==null?void 0:a.studentCasteCertificatePhoto})]}),l.jsxs(o,{children:[l.jsx(x,{label:`${r("form_identity_view_label")} :`,value:a==null?void 0:a.identityDocument}),l.jsx(x,{label:`${r("form_joining_transfer_letter_view_label")} :`,value:a==null?void 0:a.joiningTransferLetter})]}),l.jsxs(o,{children:[l.jsx(x,{label:`${r("form_leaving_transfer_letter_view_label")} :`,value:a==null?void 0:a.leavingTransferCertificate}),l.jsx(x,{label:`${r("form_income_certificate_view_label")} :`,value:a==null?void 0:a.incomeCertificate})]}),l.jsxs(o,{children:[l.jsx(x,{label:`${r("form_last_year_marksheet_view_label")} :`,value:a==null?void 0:a.lastYearMarksheet}),l.jsx(x,{label:`${r("form_nationality_certificate_view_label")} :`,value:a==null?void 0:a.nationalityCertificate})]}),l.jsxs(o,{children:[l.jsx(x,{label:`${r("form_domicile_certificate_view_label")} :`,value:a==null?void 0:a.domicileCertificate}),l.jsx(x,{label:`${r("form_non_creamy_layer_view_label")} :`,value:a==null?void 0:a.nonCreamyLayerCertificate})]})]}),l.jsxs(b,{label:r("bank_details"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_bank_name_label")} :`,value:a==null?void 0:a.studentBankName}),l.jsx(_,{label:`${r("form_ifsc_code_label")} :`,value:a==null?void 0:a.studentBankIfsc})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("acnt_holder")} :`,value:a==null?void 0:a.studentBankAccountHolderName}),l.jsx(x,{label:`${r("bank_passbook")} :`,value:a==null?void 0:a.studentBankPassbook})]}),l.jsx(o,{children:l.jsx(_,{label:`${r("account_holder")} :`,value:a==null?void 0:a.studentBankAccount})})]}),l.jsx(b,{label:r("id_card_details"),children:l.jsxs(o,{children:[l.jsx(x,{label:`${r("id_card_front")} :`,value:a==null?void 0:a.student_id_card_front}),l.jsx(x,{label:`${r("id_card_back")} :`,value:a==null?void 0:a.student_id_card_back})]})}),l.jsx(b,{label:r("anti_ragging_details"),children:l.jsx(o,{children:l.jsx(x,{label:`${r("anti_ragging")} :`,value:a==null?void 0:a.student_anti_ragging})})}),l.jsxs(b,{label:r("form_student_pg_details_label"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_gate_score_label")} :`,value:a==null?void 0:a.student_gate_score}),l.jsx(_,{label:`${r("form_gate_year_label")} :`,value:a==null?void 0:a.student_gate_year})]}),l.jsx(o,{children:l.jsx(_,{label:`${r("form_degree_institute_label")} :`,value:a==null?void 0:a.student_degree_institute})}),l.jsx(o,{children:l.jsx(_,{label:`${r("form_degree_year_label")} :`,value:a==null?void 0:a.student_degree_year})}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_marks_obtained_total_credits_label")} :`,value:a==null?void 0:a.student_pre_sem_obtained_points}),l.jsx(_,{label:`${r("form_grand_total_total_grade_point_label")} :`,value:a==null?void 0:a.student_pre_sem_total_points})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_marks_obtained_total_credits_label")} :`,value:a==null?void 0:a.student_final_sem_obtained_points}),l.jsx(_,{label:`${r("form_grand_total_total_grade_point_label")} :`,value:a==null?void 0:a.student_final_sem_total_points})]}),l.jsx(o,{children:l.jsx(_,{label:`${r("form_class_api_label")} :`,value:a==null?void 0:a.student_percentage_cpi})})]}),l.jsxs(b,{label:r("hostel_cpi"),children:[l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_student_programme_label")} :`,value:a==null?void 0:a.student_programme}),l.jsx(_,{label:`${r("form_student_branch_label")} :`,value:a==null?void 0:a.student_branch})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_student_year_label")} :`,value:a==null?void 0:a.student_year}),l.jsx(_,{label:`${r("form_hostel_cpi_label")} :`,value:a==null?void 0:a.student_hostel_cpi})]}),l.jsxs(o,{children:[l.jsx(_,{label:`${r("form_student_single_seater_room_label")} :`,value:a==null?void 0:a.student_single_seater_room}),l.jsx(_,{label:`${r("form_student_ph_label")} :`,value:a==null?void 0:a.student_ph})]})]})]})},G=({label:a,isActive:r,customStyleContainer:j,url:c})=>{const{t:n}=B(),p=W(),e=z(),s=K(),m=()=>{e(`/${s.username}/student/profile?type=fees${c}`,{state:p.state})};return l.jsxs("div",{className:r?`${h.student_fees_btn_container} ${h.student_fees_btn_container_active}`:h.student_fees_btn_container,onClick:m,style:j,children:[l.jsx("h6",{children:n(a)}),l.jsx("img",{src:`${S}/forward.svg`,alt:"arrow"})]})},U=(a,r,j)=>a+r+j,ca=({sid:a})=>{var n,p,e,s,m,i,g;const{t:r}=B(),[j]=P(),{oneStudentFeesStat:c}=t({sid:a,skip:!a});return l.jsxs("div",{className:h.student_fees_header_container,children:[l.jsxs("div",{children:[l.jsxs("div",{className:h.student_fees_row_amount,children:[l.jsxs("h5",{children:[r("rs")," ",U(((n=c==null?void 0:c.student)==null?void 0:n.studentPaidFeeCount)||0,((p=c==null?void 0:c.student)==null?void 0:p.admissionPaidFeeCount)||0,((e=c==null?void 0:c.student)==null?void 0:e.hostelPaidFeeCount)||0)]}),l.jsx("h6",{children:r("total_fees_paid")})]}),l.jsxs("div",{className:h.student_fees_row_amount,style:{marginTop:"1rem"},children:[l.jsxs("h5",{children:[r("rs")," ",(c==null?void 0:c.paid_by_government)??0]}),l.jsx("h6",{children:r("by_scholarship")})]})]}),l.jsxs("div",{className:h.student_fees_header_column,children:[l.jsx(G,{label:"admission_fees",isActive:!j.get("n"),customStyleContainer:{marginRight:"2rem"},url:""}),l.jsx(G,{label:"department_fees",isActive:j.get("n")==="internal",url:"&n=internal"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:h.student_fees_row_amount,style:{alignItems:"flex-end"},children:[l.jsxs("h5",{style:{color:"#121212"},children:[r("rs"),"."," ",U(((s=c==null?void 0:c.student)==null?void 0:s.studentRemainingFeeCount)||0,((m=c==null?void 0:c.student)==null?void 0:m.admissionRemainFeeCount)||0,((i=c==null?void 0:c.student)==null?void 0:i.hostelRemainFeeCount)||0)]}),l.jsx("h6",{children:r("outstanding_fees")})]}),l.jsxs("div",{className:h.student_fees_row_amount,style:{alignItems:"flex-end",marginTop:"1rem"},children:[l.jsxs("h5",{style:{color:"#121212"},children:[r("rs"),"."," ",((g=c==null?void 0:c.student)==null?void 0:g.applicable_fees_pending)??0]}),l.jsx("h6",{children:r("applicable_outstanding")}),l.jsx("div",{children:r("to_be_paid_by_student")})]})]})]})},V=({amount:a,feesName:r,dateOffCreation:j,is_paid:c,is_checklist:n,rid:p,transactionDate:e,transactionMode:s})=>{const{t:m}=B();return l.jsxs(l.Fragment,{children:[l.jsxs("h5",{children:[m("rs"),".",a??0," "]}),l.jsx("h6",{children:r??"Static"}),e?l.jsxs("p",{children:[m("paid_on"),H(e).format("DD MMMM YYYY")]}):n?"":l.jsxs("p",{children:[m("pay_by"),H(j).format("DD MMMM YYYY")]}),c!=="Not Paid"?l.jsx(l.Fragment,{children:l.jsxs("button",{className:h.student_internal_card_btn_paid,children:[m("internal_paid")," ",s??""]})}):l.jsx("button",{className:h.student_internal_card_btn_pay,children:m("unpaid")})]})},oa=({sid:a})=>{const[r,j]=M.useState(1),[c,n]=M.useState(!0),[p,e]=la(),{oneStudentInternalFees:s,oneStudentInternalFeesLoading:m}=u({data:{sid:a,page:r,limit:10},skip:!a});return M.useEffect(()=>{e&&c&&j(i=>i+1)},[e,c]),M.useEffect(()=>{s!=null&&s.length&&ra(s==null?void 0:s.length,n)},[s==null?void 0:s.length]),l.jsxs("div",{className:h.student_admission_fees_container,children:[m&&l.jsx(X,{}),s==null?void 0:s.map((i,g)=>{var y,N,d,C,k,f,w,A;return(s==null?void 0:s.length)===g+1?l.jsx("div",{className:h.student_internal_card,ref:p,children:l.jsx(V,{feesName:i==null?void 0:i.internal_fee_reason,amount:i==null?void 0:i.internal_fee_amount,dateOffCreation:(y=i==null?void 0:i.fees)==null?void 0:y.feeDate,is_paid:i==null?void 0:i.internal_fee_status,is_checklist:(i==null?void 0:i.internal_fee_type)==="Checklist"||(i==null?void 0:i.internal_fee_type)==="Backlog"||(i==null?void 0:i.internal_fee_type)==="Library Fees",rid:(N=i==null?void 0:i.fee_receipt)==null?void 0:N._id,transactionDate:(d=i==null?void 0:i.fee_receipt)==null?void 0:d.created_at,transactionMode:(C=i==null?void 0:i.fee_receipt)==null?void 0:C.fee_payment_mode})},i==null?void 0:i._id):l.jsx("div",{className:h.student_internal_card,children:l.jsx(V,{feesName:i==null?void 0:i.internal_fee_reason,amount:i==null?void 0:i.internal_fee_amount,dateOffCreation:(k=i==null?void 0:i.fees)==null?void 0:k.feeDate,is_paid:i==null?void 0:i.internal_fee_status,is_checklist:(i==null?void 0:i.internal_fee_type)==="Checklist"||(i==null?void 0:i.internal_fee_type)==="Backlog"||(i==null?void 0:i.internal_fee_type)==="Library Fees",rid:(f=i==null?void 0:i.fee_receipt)==null?void 0:f._id,transactionDate:(w=i==null?void 0:i.fee_receipt)==null?void 0:w.created_at,transactionMode:(A=i==null?void 0:i.fee_receipt)==null?void 0:A.fee_payment_mode})},i==null?void 0:i._id)})]})},sa=({sid:a,isFeesData:r})=>{const[j]=P();return l.jsxs(l.Fragment,{children:[l.jsx(L,{customStyle:{display:"flex",justifyContent:"center"},children:l.jsx(ca,{sid:a})}),l.jsx(L,{customStyle:{padding:"1.5rem 5rem"},children:j.get("n")?l.jsx(oa,{sid:a}):l.jsx(q,{isFeesData:r,sid:a})})]})},ma=[{label:"about",id:"about",urlKey:""},{label:"fees_data",id:"fees",urlKey:"?type=fees"}],La=()=>{var m,i,g,y,N,d,C,k,f,w,A,T,F,I,O,D,R,Y;const{t:a}=B(),r=W(),j=K(),[c]=P(),[n,p]=M.useState(!1),{oneStudentProfile:e}=aa({sid:(m=r==null?void 0:r.state)==null?void 0:m.studentId,skip:!((i=r==null?void 0:r.state)!=null&&i.studentId)}),s=()=>{p(v=>!v)};return l.jsxs(l.Fragment,{children:[l.jsx(ia,{children:l.jsxs("div",{className:$.sp_main,children:[l.jsxs("div",{className:$.sp_main_head,children:[l.jsxs("h6",{children:[a("student_profile")," ",l.jsxs("span",{className:$.sp_main_head_span,children:["(",((y=(g=e==null?void 0:e.student)==null?void 0:g.profile_percentage)==null?void 0:y.toFixed(2))??0," ",a("profile_completed"),")"]})]}),l.jsx("div",{className:$.sp_main_other,children:l.jsx("div",{className:$.spmo_allow,children:l.jsx("h6",{onClick:s,children:a("student_message")})})})]}),l.jsx(E,{customStyleBorder:{marginTop:"0"}}),l.jsx(L,{customStyle:{marginBottom:"1rem"},children:l.jsx(J,{profilePhoto:(N=e==null?void 0:e.student)==null?void 0:N.studentProfilePhoto,name:`${((d=e==null?void 0:e.student)==null?void 0:d.studentFirstName)??""} ${((C=e==null?void 0:e.student)==null?void 0:C.studentMiddleName)??""} ${((k=e==null?void 0:e.student)==null?void 0:k.studentLastName)??""}`,grNumber:(f=e==null?void 0:e.student)==null?void 0:f.studentGRNO,rollNumber:(w=e==null?void 0:e.student)==null?void 0:w.studentROLLNO,classTitle:(T=(A=e==null?void 0:e.student)==null?void 0:A.studentClass)==null?void 0:T.classTitle,isGr:(F=e==null?void 0:e.student)==null?void 0:F.query_lock_status})}),l.jsx(Z,{children:ma.map(v=>l.jsx(Q,{tab:v,isLink:!0,isActive:v.id==="about"&&!c.get("type")?!0:c.get("type")===v.id,parentState:r.state,url:`/${j.username}/student/profile${v.urlKey}`},v==null?void 0:v.id))}),l.jsx(E,{customStyleBorder:{marginTop:"0"}}),!c.get("type")&&l.jsx(ea,{student:e==null?void 0:e.student}),c.get("type")==="fees"&&l.jsx(sa,{sid:(I=r==null?void 0:r.state)==null?void 0:I.studentId,isFeesData:!0})]})}),n&&l.jsx(_a,{onClose:s,messageId:(O=r.state)==null?void 0:O.messageId,instituteId:(D=r.state)==null?void 0:D.instituteId,headId:(R=r.state)==null?void 0:R.headId,isStudentProfile:!0,viewAs:"FINANCE_MANAGER",sendStudentList:[(Y=r.state)==null?void 0:Y.studentId]})]})};export{La as default};

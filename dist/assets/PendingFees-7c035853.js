import{f as U,u as w,a as y,j as r,i as E,r as c}from"./index-840de58d.js";import{u as P,b as R,f as k}from"./AssestsBaseUrl-3e7ac4b0.js";import{U as M,s as p}from"./FinanceManager-0ca2f058.js";import{U as v,B as V}from"./UserMemberContentWrapper-d4cbea5a.js";import{a as B,R as d,n as A,j as D}from"./StaffMemberConfig-7a36179e.js";import{s as g}from"./PendingFees.module-400ac0f4.js";import{L as I}from"./Loading-1f40e573.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-8f94e437.js";import"./dayjs.min-1b7b0994.js";import"./CreateButton-390a73d1.js";import"./auth-api-76ff487b.js";import"./MethodType-30df8d44.js";import"./Modal-6a8c66d1.js";import"./BackdropModal-142f7ac8.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";import"./decrypt-c89175fd.js";import"./UserDrawer-bfa56692.js";const N=({studentFees:a})=>{var l,n,s;const{t:m}=P(),h=U(),x=w(),j=y(),_=()=>{x(`/${h.username}/student/profile`,{state:{...j.state,studentId:a==null?void 0:a._id}})};return r.jsxs("div",{className:g.pending_fees_card,onClick:_,title:"View Profile",children:[r.jsxs("div",{className:g.pending_fees_card_container,children:[r.jsx("img",{alt:"Student Avatar",src:a!=null&&a.studentProfilePhoto?`${E}/${a==null?void 0:a.studentProfilePhoto}`:`${R}/feed-user-avatar.svg`,loading:"lazy"}),r.jsxs("div",{className:g.pending_fees_card_inner,children:[r.jsx("h6",{children:`${a==null?void 0:a.studentFirstName} ${a!=null&&a.studentMiddleName?a==null?void 0:a.studentMiddleName:""} ${a==null?void 0:a.studentLastName}`}),r.jsxs("p",{children:[m("gr_number")," : ",(a==null?void 0:a.studentGRNO)??""," ",", ",((l=a==null?void 0:a.department)==null?void 0:l.dName)??""]}),r.jsxs("p",{children:[m("class")," "," : ",`${((n=a==null?void 0:a.studentClass)==null?void 0:n.className)??""} -  ${((s=a==null?void 0:a.studentClass)==null?void 0:s.classTitle)??""}`]})]})]}),r.jsxs("div",{className:g.pending_fees_card_inner,children:[r.jsxs("h6",{children:["Rs. ",a==null?void 0:a.studentRemainingFeeCount]}),r.jsx("p",{children:m("pending_fees")})]})]})},T=({fid:a})=>{const{t:m}=P(),[h,x]=c.useState(""),[j,_]=c.useState(1),[l,n]=c.useState(!0),[s,f]=B({skip:h}),{financeFeeList:i,financeFeeListLoading:$}=d({data:{finance:a,page:j,limit:10,search:h},skip:!a});c.useEffect(()=>{f&&l&&_(o=>o+1)},[f,l]),c.useEffect(()=>{i!=null&&i.length&&A(i==null?void 0:i.length,n)},[i==null?void 0:i.length]);const b=c.useCallback(D(o=>x(o),500),[]),C=o=>{b(o.target.value)};return r.jsxs(M,{children:[r.jsx(v,{children:r.jsxs("div",{className:p.fm_header_container,children:[r.jsx("h6",{children:m("pending_fees")}),r.jsx("div",{className:p.fm_search,children:r.jsx("section",{className:p.fm_search_container,children:r.jsxs("div",{className:p.fm_search_container_inner,children:[r.jsx("img",{className:p.fm_search_icon,alt:"search icon",src:`${k}/navbar-search.svg`}),r.jsx("input",{type:"text",placeholder:m("search"),onChange:C})]})})})]})}),r.jsx(V,{}),r.jsxs(v,{children:[$&&r.jsx(I,{}),i==null?void 0:i.map((o,S)=>(i==null?void 0:i.length)===S+1?r.jsx("div",{ref:s,children:r.jsx(N,{studentFees:o})},o==null?void 0:o._id):r.jsx(N,{studentFees:o},o==null?void 0:o._id))]})]})},oa=c.memo(T);export{oa as default};

import{j as s,i as $,r as l}from"./index-244a15a9.js";import{s as c}from"./dayjs.min-cfa010e9.js";import{u as C,b as E,c as w,f as B}from"./AssestsBaseUrl-00ad65e7.js";import{s as i}from"./PlateformUser.module-0e3694bb.js";import{M as U}from"./Modal-6d554a98.js";import{U as y}from"./UserMemberContentWrapper-31c60411.js";import{B as k}from"./UserMemberProfileWrapper-960b6d0c.js";import{u as M,n as D,c as L}from"./StaffMemberConfig-81165041.js";import{W as T}from"./finance-manager-api-ad25b769.js";const J=({label:a,name:n,msg:o,type:r,value:m,onChange:_,placeholder:x,customFormInputContainer:j,customFormInputLabel:h,customFormInput:g,errorShow:f,disabled:d,iconUrl:e,searchLabel:b,onSearchAction:N})=>{const{t:p}=C();return s.jsxs("div",{className:c.form_input_container,style:j,children:[a&&s.jsxs("div",{className:c.form_input_search,children:[s.jsxs("label",{className:c.form_input_label,style:h,htmlFor:n,children:[a,o?s.jsx("span",{className:c.form_input_label_error,children:o}):f?s.jsxs("span",{className:c.form_input_label_error,children:["* ",p("form_require_label")]}):null]}),s.jsxs("div",{className:c.form_input_search_image,onClick:N,children:[s.jsx("img",{src:e,alt:"icon"}),s.jsx("span",{children:p(b)})]})]}),s.jsx("input",{className:c.form_input,type:r,value:m,onChange:_,name:n,placeholder:x,disabled:d,style:g})]})},v=({user:a,selectedId:n,onSelect:o})=>{const r=()=>{o(a)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:i.assign_show_list_each,style:n===(a==null?void 0:a._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:r,children:[s.jsx("img",{src:a!=null&&a.profilePhoto?`${$}/${a.profilePhoto}`:`${E}/feed-user-avatar.svg`,alt:"profile avatar"}),s.jsxs("div",{className:i.assign_each_paragraph,children:[s.jsx("h6",{children:a==null?void 0:a.userLegalName}),s.jsx("p",{children:a==null?void 0:a.username})]})]}),s.jsx(k,{customStyleBorder:{margin:"0"}})]})},K=({onClose:a,selectedId:n,onSelectUser:o})=>{const{t:r}=C(),[m,_]=l.useState(""),[x,j]=l.useState(1),[h,g]=l.useState(!0),[f,d]=M({skip:m}),{universalPlateformUser:e,universalPlateformUserLoading:b}=T({page:x,limit:10,search:m});l.useEffect(()=>{d&&h&&j(t=>t+1)},[d,h]),l.useEffect(()=>{e!=null&&e.length&&D(e==null?void 0:e.length,g)},[e==null?void 0:e.length]);const N=l.useCallback(L(t=>_(t),500),[]),p=t=>{N(t.target.value)},S=t=>{n===(t==null?void 0:t._id)||o(t)};return s.jsx(U,{onClose:a,children:s.jsxs("div",{className:i.modal_container,children:[s.jsx(y,{children:s.jsxs("div",{className:i.modal_container_outer_header,children:[s.jsx("div",{className:i.modal_container_header,children:s.jsx("h6",{children:r("search_user")})}),s.jsx("img",{src:`${w}/close.svg`,alt:"close icon",onClick:a})]})}),s.jsx(k,{}),s.jsxs(y,{customStyle:{paddingTop:"0.3rem"},children:[s.jsxs("div",{className:i.assign_search_container,children:[s.jsx("input",{type:"text",placeholder:r("search"),className:i.assign_search_input,onChange:p}),s.jsx("img",{src:`${B}/navbar-search.svg`,alt:"search icon"})]}),e==null?void 0:e.map((t,F)=>(e==null?void 0:e.length)===F+1?s.jsx("div",{ref:f,children:s.jsx(v,{user:t,selectedId:n,onSelect:S})},t==null?void 0:t._id):s.jsx(v,{user:t,selectedId:n,onSelect:S},t==null?void 0:t._id))]})]})})};export{J as F,K as P};

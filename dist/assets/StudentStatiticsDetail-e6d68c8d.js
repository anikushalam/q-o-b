import{f as P,u,a as b,j as s,i as C,r as l,w as L,Q as E}from"./index-840de58d.js";import{u as N,b as U,f as $}from"./AssestsBaseUrl-3e7ac4b0.js";import{U as v,B}from"./UserMemberContentWrapper-d4cbea5a.js";import{C as k}from"./CreateButton-390a73d1.js";import{U as w,s as m}from"./FinanceManager-0ca2f058.js";import{s as x}from"./PendingFees.module-400ac0f4.js";import{ai as z}from"./StaffMemberConfig-7a36179e.js";import"./Loading-1f40e573.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-8f94e437.js";import"./dayjs.min-1b7b0994.js";import"./auth-api-76ff487b.js";import"./MethodType-30df8d44.js";import"./Modal-6a8c66d1.js";import"./BackdropModal-142f7ac8.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";import"./decrypt-c89175fd.js";import"./UserDrawer-bfa56692.js";const D=({student:a})=>{const{t:e}=N(),i=P(),o=u(),c=b(),h=()=>{var p,f,d;o(`/${i.username}/student/profile`,{state:{fid:(p=c.state)==null?void 0:p.fid,sid:(f=c.state)==null?void 0:f.sid,staffProfilePhoto:(d=c.state)==null?void 0:d.staffProfilePhoto,studentId:a==null?void 0:a._id}})};return s.jsx("div",{className:x.pending_fees_card,onClick:h,children:s.jsxs("div",{className:x.pending_fees_card_container,children:[s.jsx("img",{alt:"Student Avatar",src:a!=null&&a.studentProfilePhoto?`${C}/${a==null?void 0:a.studentProfilePhoto}`:`${U}/feed-user-avatar.svg`,loading:"lazy"}),s.jsxs("div",{className:x.pending_fees_card_inner,children:[s.jsx("h6",{style:{fontSize:"13px",margin:"0"},children:(a==null?void 0:a.valid_full_name)??""}),s.jsxs("p",{style:{fontSize:"11px"},children:[e("roll_no")," "," : ",(a==null?void 0:a.studentROLLNO)??""]}),s.jsxs("p",{style:{fontSize:"11px"},children:[e("gr_number")," : ",(a==null?void 0:a.studentGRNO)??""]})]})]})})},sa=()=>{var _,j;const{t:a}=N(),e=b(),[i,o]=l.useState([]),[c,h]=l.useState(!1),[p]=z();l.useEffect(()=>{var r,t,n;(t=(r=e==null?void 0:e.state)==null?void 0:r.studentList)!=null&&t.length&&o((n=e==null?void 0:e.state)==null?void 0:n.studentList)},[(_=e==null?void 0:e.state)==null?void 0:_.studentList]);const f=l.useCallback(r=>{var t;if(r.target.value){let n=g(i,r.target.value);o(n)}else o((t=e==null?void 0:e.state)==null?void 0:t.studentList)},[g,(j=e==null?void 0:e.state)==null?void 0:j.studentList]),d=l.useCallback(()=>{h(t=>!t);let r=[];for(let t of i)r.push(t==null?void 0:t._id);p({exportBody:{all_arr:r}}).then(t=>{var n,S;(n=t==null?void 0:t.data)!=null&&n.data&&window.open(`${L}/${(S=t==null?void 0:t.data)==null?void 0:S.data}`,"_blank","noreferrer")}).catch({})},[i]);return s.jsxs(s.Fragment,{children:[s.jsxs(w,{children:[s.jsx(v,{children:s.jsxs("div",{className:m.fm_header_container,children:[s.jsx("h6",{children:a("student_statistics_detail")}),s.jsxs("div",{className:m.fm_search,children:[s.jsx("section",{className:m.fm_search_container,children:s.jsxs("div",{className:m.fm_search_container_inner,children:[s.jsx("img",{className:m.fm_search_icon,alt:"search icon",src:`${$}/navbar-search.svg`}),s.jsx("input",{type:"text",placeholder:a("search"),onChange:f})]})}),s.jsx(k,{label:"export",customStyle:{margin:"0",paddingBlock:"0.61rem"},onAction:d})]})]})}),s.jsx(B,{}),s.jsx(v,{customStyle:{paddingTop:"0"},children:i==null?void 0:i.map(r=>s.jsx(D,{student:r},r==null?void 0:r._id))})]}),c&&s.jsx(E,{})]})},g=(a,e)=>a==null?void 0:a.filter(i=>{var o;return(o=i==null?void 0:i.valid_full_name)!=null&&o.includes(e)?i:null});export{sa as default};

import{k as X,j as d,r as H,f as w,L as k,a as V,h as W,i as Y}from"./index-40ad8b25.js";import{c,U as z,d as K,e as J,f as Z,L}from"./UserMemberProfileWrapper-b0858c1e.js";import{s as M}from"./UiTab.module-f6b989ec.js";import{u as n,c as u,b as p}from"./AssestsBaseUrl-2ebdccdb.js";import{d as f}from"./decrypt-a000b880.js";const rr=t=>t.query({query:o=>`/extra/${o==null?void 0:o.uid}/active/member/role?active_member_role=${(o==null?void 0:o.role)??""}`,forceRefetch({currentArg:o,previousArg:s}){return o!==s}}),er=t=>t.query({query:o=>`/user/staffdesignationdata/${o}`,transformResponse:o=>{let s=f(o==null?void 0:o.encrypt);return s==null?void 0:s.staff},forceRefetch({currentArg:o,previousArg:s}){return o!==s}}),tr=t=>t.query({query:o=>`/user/studentdesignationdata/${o}`}),or=t=>t.query({query:o=>`/user/${o}/staff/student/role`,transformResponse:o=>o==null?void 0:o.role_query}),dr=t=>t.query({query:o=>`/user/${o}/all/application/query`,transformResponse:o=>o==null?void 0:o.all_apps}),sr=X.injectEndpoints({endpoints:t=>({userActivatedMember:rr(t),staffAllDesignationList:er(t),studentAllDesignationList:tr(t),userMemberAllAccount:or(t),userMemberAppliedAllApplicationAccount:dr(t)})}),{useUserActivatedMemberQuery:_r,useStaffAllDesignationListQuery:mr,useStudentAllDesignationListQuery:ur,useUserMemberAllAccountQuery:Sr,useUserMemberAppliedAllApplicationAccountQuery:br}=sr,Cr=t=>{const{data:o,refetch:s,isLoading:_}=_r(t.data,{skip:t.skip});return{userActivatedMember:o,userActivatedMemberRefetch:s,userActivatedMemberLoading:_}},ar=t=>{const{data:o,refetch:s,isLoading:_}=mr(t.sid,{skip:t.skip});return{staffAllDesignationList:o,staffAllDesignationListRefetch:s,staffAllDesignationListLoading:_}},Nr=t=>{const{data:o,refetch:s,isLoading:_}=ur(t.sid,{skip:t.skip});return{studentAllDesignationList:o,studentAllDesignationListRefetch:s,studentAllDesignationListLoading:_}},Ur=t=>{const{data:o,refetch:s,isLoading:_}=Sr(t.uid,{skip:t.skip});return{userMemberAllAccount:o,userMemberAllAccountRefetch:s,userMemberAllAccountLoading:_}},Ar=({children:t})=>d.jsx("div",{className:M.designation_tab_wrapper,children:t}),Er=({label:t,iconUrl:o,requiredData:s,pathUrl:_,isSubject:l})=>{var h,C,a,A,E;const e=w();return d.jsx(d.Fragment,{children:l?d.jsxs(k,{to:`/${e.username}/member/staff/${_}`,className:M.designation_tab_card,state:s,children:[d.jsx("img",{src:o,alt:"designation icon"}),d.jsxs("p",{children:[t==null?void 0:t.subjectName," ",(h=t==null?void 0:t.selected_batch_query)!=null&&h.batchName?d.jsxs("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",(t==null?void 0:t.subject_category)==="Practical"?"P:":"T:",(C=t==null?void 0:t.selected_batch_query)==null?void 0:C.batchName,")"]}):null," ",(a=t==null?void 0:t.class)==null?void 0:a.classTitle," "," - ",(E=(A=t==null?void 0:t.class)==null?void 0:A.batch)==null?void 0:E.batchName]})]}):d.jsxs(k,{to:`/${e.username}/member/staff/${_}`,className:M.designation_tab_card,state:s,children:[d.jsx("img",{src:o,alt:"designation icon"}),d.jsx("p",{children:t})]})})},m=H.memo(Er),pr=()=>{var C,a,A,E,j,b,N,U,x,v,O,y,I,$,P,i,F,q,g,D;const{t}=n(),o=V(),s=W(r=>r.baseChange.id),{userActivatedMember:_,userActivatedMemberLoading:l}=Cr({data:{uid:s,role:""},skip:!s}),{staffAllDesignationList:e,staffAllDesignationListLoading:h}=ar({sid:((C=o.state)==null?void 0:C.sid)??((a=_==null?void 0:_.role)==null?void 0:a.activeRole),skip:(A=o.state)!=null&&A.sid?!((j=o.state)!=null&&j.sid):!((E=_==null?void 0:_.role)!=null&&E.activeRole)});return d.jsxs("div",{className:c.smc,children:[d.jsx("div",{className:c.smc_drawer,children:d.jsx(z,{activeTab:"member"})}),d.jsxs("div",{className:c.smc_content_main,children:[d.jsxs("div",{className:c.smc_content,style:{marginBottom:"1rem"},children:[d.jsx(K,{}),d.jsxs(J,{children:[d.jsx("img",{src:`${u}/manager.svg`,alt:"finance icon"}),d.jsx("h6",{children:t("select_designation")})]}),d.jsxs(Z,{children:[d.jsx("img",{src:e!=null&&e.staffProfilePhoto?`${Y}/${e==null?void 0:e.staffProfilePhoto}`:`${p}/feed-user-avatar.svg`,alt:"finance icon"}),d.jsx("h6",{children:t("profile_leaves_and_more")})]})]}),d.jsxs(Ar,{children:[l&&d.jsx(L,{}),(b=e==null?void 0:e.staffDepartment)==null?void 0:b.map(r=>d.jsx(m,{iconUrl:`${p}/department.svg`,label:r==null?void 0:r.dName,requiredData:{onClickValue:r,sid:e==null?void 0:e._id},pathUrl:"department"},r==null?void 0:r._id)),(N=e==null?void 0:e.staffClass)==null?void 0:N.map(r=>{var S;return d.jsx(m,{iconUrl:`${p}/class-teacher.svg`,label:`${r==null?void 0:r.classTitle} - ${(S=r==null?void 0:r.batch)==null?void 0:S.batchName}`,requiredData:{onClickValue:r,sid:e==null?void 0:e._id},pathUrl:"class"},r==null?void 0:r._id)}),(U=e==null?void 0:e.staffSubject)==null?void 0:U.map(r=>d.jsx(m,{iconUrl:(r==null?void 0:r.subject_category)==="Practical"?`${p}/subject-teacher-practical.svg`:`${p}/subject-teacher-theory.svg`,label:r,requiredData:{fid:r,sid:e==null?void 0:e._id},pathUrl:"subject",isSubject:!0},r==null?void 0:r._id)),(x=e==null?void 0:e.financeDepartment)==null?void 0:x.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Finance Manager",requiredData:{fid:r==null?void 0:r._id,sid:e==null?void 0:e._id},pathUrl:"finance"},r==null?void 0:r._id)),(v=e==null?void 0:e.financeModeratorDepartment)==null?void 0:v.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:G[r==null?void 0:r.access_role],requiredData:{data:r,sid:e==null?void 0:e._id,role:"MODERATOR"},pathUrl:"finance"},r==null?void 0:r._id)),(O=e==null?void 0:e.admissionDepartment)==null?void 0:O.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Admission Admin",requiredData:{fid:r==null?void 0:r._id,sid:e==null?void 0:e._id},pathUrl:"admission"},r==null?void 0:r._id)),(y=e==null?void 0:e.admissionModeratorDepartment)==null?void 0:y.map(r=>{var S;return d.jsx(m,{iconUrl:`${u}/manager.svg`,label:(r==null?void 0:r.access_role)==="ONE_TAB_ACCESS"?T[r==null?void 0:r.access_role][(S=r==null?void 0:r.active_tab)==null?void 0:S.role]:T[r==null?void 0:r.access_role],requiredData:{data:r,sid:e==null?void 0:e._id,role:"MODERATOR"},pathUrl:"finance"},r==null?void 0:r._id)}),(I=e==null?void 0:e.library)==null?void 0:I.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Librarian",requiredData:{fid:r==null?void 0:r._id,sid:e==null?void 0:e._id},pathUrl:"library"},r==null?void 0:r._id)),($=e==null?void 0:e.eventManagerDepartment)==null?void 0:$.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Event and Seminars",requiredData:{fid:r==null?void 0:r._id,sid:e==null?void 0:e._id},pathUrl:"eventmanager"},r==null?void 0:r._id)),(P=e==null?void 0:e.instituteModeratorDepartment)==null?void 0:P.map(r=>(r==null?void 0:r.access_role)==="SOCIAL_MEDIA_ACCESS"?null:d.jsx(m,{iconUrl:`${u}/manager.svg`,label:B[r==null?void 0:r.access_role],requiredData:{data:r,sid:e==null?void 0:e._id,role:"MODERATOR"},pathUrl:Q[r==null?void 0:r.access_role]},r==null?void 0:r._id)),(i=e==null?void 0:e.hostelDepartment)==null?void 0:i.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Hostel Manager",requiredData:{fid:r==null?void 0:r._id,sid:e==null?void 0:e._id},pathUrl:"hostel"},r==null?void 0:r._id)),(F=e==null?void 0:e.hostelUnitDepartment)==null?void 0:F.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Hostel Warden",requiredData:{data:r,sid:e==null?void 0:e._id},pathUrl:"hostel/warden"},r==null?void 0:r._id)),(q=e==null?void 0:e.hostelModeratorDepartment)==null?void 0:q.map(r=>{var S;return d.jsx(m,{iconUrl:`${u}/manager.svg`,label:(r==null?void 0:r.access_role)==="ONE_TAB_ACCESS"?R[r==null?void 0:r.access_role][(S=r==null?void 0:r.active_tab)==null?void 0:S.role]:R[r==null?void 0:r.access_role],requiredData:{data:r,sid:e==null?void 0:e._id,role:"MODERATOR"},pathUrl:"hostel"},r==null?void 0:r._id)}),(g=e==null?void 0:e.transportDepartment)==null?void 0:g.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Transport Manager",requiredData:{fid:r==null?void 0:r._id,sid:e==null?void 0:e._id},pathUrl:"transport"},r==null?void 0:r._id)),(D=e==null?void 0:e.mentorDepartment)==null?void 0:D.map(r=>d.jsx(m,{iconUrl:`${u}/manager.svg`,label:"Mentor",requiredData:{fid:r==null?void 0:r._id,sid:e==null?void 0:e._id},pathUrl:"mentor"},r==null?void 0:r._id))]})]})]})},cr=H.memo(pr),G={CASH_RECEIPT_ACCESS:"Cash Receipt Section",INVENTORY_ACCESS:"Inventories Section",FEE_MASTER_ACCESS:"Fees Master Section",PAYROLL_ACCESS:"Payroll Section",DEPOSIT_ACCESS:"Deposit Section",BANK_ACCOUNT_ACCESS:"Bank Account Section",DATA_EXPORT_ACCESS:"Finance Data Export Authority"},T={MULTI_APP_ACCESS:"Application Manager",INQUIRY_ACCESS:"Enquiries Section",ALL_FEE_ACCESS:"Fee Receipt Authority",SCHOLARSHIP_ACCESS:"Scholarship Manager",REFUND_ACCESS:"Excess Fees Refund",PENDING_FEE_ACCESS:"Pending Fee Manager",DATA_EXPORT_ACCESS:"Admission Data Export Authority",ONE_TAB_ACCESS:{Application:"Admission Application Tab",Selected:"Admission Selected Tab",Confirmed:"Admission Confirmed Tab",Allotted:"Admission Allotted Tab",Cancelled:"Admission Cancelled Tab"}},B={STUDENT_PROMOTE_ACCESS:"Student Section",CERTIFICATE_ACCESS:"Certificate Authority",EXAM_MANAGER_ACCESS:"Examination Section",ID_CARD_ACCESS:"Id Card Section",ACADEMIC_ADMINISTRATOR_ACCESS:"Academic Administrator",LEAVING_AND_TRANSFER_ACCESS:"Leave and Transfer Authority"},Q={STUDENT_PROMOTE_ACCESS:"promote",CERTIFICATE_ACCESS:"certificate",EXAM_MANAGER_ACCESS:"exam",ID_CARD_ACCESS:"idcard",ACADEMIC_ADMINISTRATOR_ACCESS:"administrator",LEAVING_AND_TRANSFER_ACCESS:"leavestransfer"},lr={STUDENT_PROMOTE_ACCESS:"certificate",CERTIFICATE_ACCESS:"certificate",EXAM_MANAGER_ACCESS:"examination",ID_CARD_ACCESS:"idcard",ACADEMIC_ADMINISTRATOR_ACCESS:"academic",LEAVING_AND_TRANSFER_ACCESS:"lat"},R={ALL_FEE_ACCESS:"Hostel Fee receipt authority",MULTI_APP_ACCESS:"Hostel Application Manager",RENEWAL_UNIT_ACCESS:"Renewal Manager",DEPOSIT_ACCESS:"Deposit Moderator",PENDING_FEE_ACCESS:"Hostel Pending Fee Manager",COMPAINT_ACCESS:"Complaint Moderator",FEE_MASTER_ACCESS:"Hostel Fee Structure Moderator",RULES_AND_ANNOUNCEMENT_ACCESS:"Rules and Announcement Moderator",INCOME_AND_EXPENSE_ACCESS:"Income and Expense Moderator",DATA_EXPORT_ACCESS:"Hostel Data Export Authority",ONE_TAB_ACCESS:{Application:"Hostel Application Tab",Selected:"Hostel Selected Tab",Confirmed:"Hostel Confirmed Tab",Allotted:"Hostel Allotted Tab",Cancelled:"Hostel Cancelled Tab"}},xr=Object.freeze(Object.defineProperty({__proto__:null,admissionModeratorObj:T,default:cr,financeModeratorObj:G,hostelModeratorObj:R,instituteModeratorIconUrlObj:lr,instituteModeratorObj:B,instituteModeratorUrlObj:Q},Symbol.toStringTag,{value:"Module"}));export{xr as D,T as a,B as b,Nr as c,Cr as d,Ur as e,G as f,R as h,lr as i,ar as u};

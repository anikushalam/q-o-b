import{j as s,i as F,r as l}from"./index-840de58d.js";import{s as c}from"./dayjs.min-1b7b0994.js";import{u as C,b as E,c as w,f as B}from"./AssestsBaseUrl-3e7ac4b0.js";import{s as i}from"./PlateformUser.module-0e3694bb.js";import{M as U}from"./Modal-6a8c66d1.js";import{B as $,U as y}from"./UserMemberContentWrapper-d4cbea5a.js";import{a as M,$ as D,n as L,j as T}from"./StaffMemberConfig-7a36179e.js";const H=({label:a,name:n,msg:o,type:r,value:m,onChange:_,placeholder:x,customFormInputContainer:j,customFormInputLabel:h,customFormInput:g,errorShow:f,disabled:d,iconUrl:t,searchLabel:b,onSearchAction:N})=>{const{t:p}=C();return s.jsxs("div",{className:c.form_input_container,style:j,children:[a&&s.jsxs("div",{className:c.form_input_search,children:[s.jsxs("label",{className:c.form_input_label,style:h,htmlFor:n,children:[a,o?s.jsx("span",{className:c.form_input_label_error,children:o}):f?s.jsxs("span",{className:c.form_input_label_error,children:["* ",p("form_require_label")]}):null]}),s.jsxs("div",{className:c.form_input_search_image,onClick:N,children:[s.jsx("img",{src:t,alt:"icon"}),s.jsx("span",{children:p(b)})]})]}),s.jsx("input",{className:c.form_input,type:r,value:m,onChange:_,name:n,placeholder:x,disabled:d,style:g})]})},v=({user:a,selectedId:n,onSelect:o})=>{const r=()=>{o(a)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:i.assign_show_list_each,style:n===(a==null?void 0:a._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:r,children:[s.jsx("img",{src:a!=null&&a.profilePhoto?`${F}/${a.profilePhoto}`:`${E}/feed-user-avatar.svg`,alt:"profile avatar"}),s.jsxs("div",{className:i.assign_each_paragraph,children:[s.jsx("h6",{children:a==null?void 0:a.userLegalName}),s.jsx("p",{children:a==null?void 0:a.username})]})]}),s.jsx($,{customStyleBorder:{margin:"0"}})]})},I=({onClose:a,selectedId:n,onSelectUser:o})=>{const{t:r}=C(),[m,_]=l.useState(""),[x,j]=l.useState(1),[h,g]=l.useState(!0),[f,d]=M({skip:m}),{universalPlateformUser:t,universalPlateformUserLoading:b}=D({page:x,limit:10,search:m});l.useEffect(()=>{d&&h&&j(e=>e+1)},[d,h]),l.useEffect(()=>{t!=null&&t.length&&L(t==null?void 0:t.length,g)},[t==null?void 0:t.length]);const N=l.useCallback(T(e=>_(e),500),[]),p=e=>{N(e.target.value)},S=e=>{n===(e==null?void 0:e._id)||o(e)};return s.jsx(U,{onClose:a,children:s.jsxs("div",{className:i.modal_container,children:[s.jsx(y,{children:s.jsxs("div",{className:i.modal_container_outer_header,children:[s.jsx("div",{className:i.modal_container_header,children:s.jsx("h6",{children:r("search_user")})}),s.jsx("img",{src:`${w}/close.svg`,alt:"close icon",onClick:a})]})}),s.jsx($,{}),s.jsxs(y,{customStyle:{paddingTop:"0.3rem"},children:[s.jsxs("div",{className:i.assign_search_container,children:[s.jsx("input",{type:"text",placeholder:r("search"),className:i.assign_search_input,onChange:p}),s.jsx("img",{src:`${B}/navbar-search.svg`,alt:"search icon"})]}),t==null?void 0:t.map((e,k)=>(t==null?void 0:t.length)===k+1?s.jsx("div",{ref:f,children:s.jsx(v,{user:e,selectedId:n,onSelect:S})},e==null?void 0:e._id):s.jsx(v,{user:e,selectedId:n,onSelect:S},e==null?void 0:e._id))]})]})})};export{H as F,I as P};

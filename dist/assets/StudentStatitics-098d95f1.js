import{u as $,f as U,a as W,r as d,j as e,Q as L}from"./index-244a15a9.js";import{B as k}from"./UserMemberProfileWrapper-960b6d0c.js";import{U as H,s as T}from"./FinanceManager-db1d1088.js";import{U as N}from"./UserMemberContentWrapper-31c60411.js";import{s}from"./StudentStatitics.module-afbbf27d.js";import{u as S,c as E,f as O}from"./AssestsBaseUrl-00ad65e7.js";import{S as Q}from"./SelectDepartment-28983ce7.js";import{s as o}from"./PlateformUser.module-0e3694bb.js";import{M as q}from"./Modal-6d554a98.js";import{x as z,aa as G}from"./finance-manager-api-ad25b769.js";import"./StaffMemberConfig-81165041.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-9b8ed792.js";import"./dayjs.min-cfa010e9.js";import"./CreateButton-e61916de.js";import"./auth-api-a6b9904c.js";import"./MethodType-30df8d44.js";import"./checkingRequiredField-382733fa.js";import"./Utils.module-b6acf444.js";import"./decrypt-87f2d320.js";const I=({statitics:_})=>{const{t:i}=S(),l=$(),c=U(),h=W(),a=d.useCallback(r=>{(r==null?void 0:r.length)>0&&l(`/${c.username}/member/staff/finance?type=statistics-detail`,{state:{...h.state,studentList:r}})},[l,c]);return e.jsxs("div",{className:s.ss_table,children:[e.jsxs("section",{className:s.ss_table_header,children:[e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"2rem"},children:i("sr_no")})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"12rem"},children:i("classes")})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:i("strength")})}),p==null?void 0:p.map(r=>e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:i(r.name)})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},r.key)),e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("h6",{className:s.ss_table_header_h6,children:i("minority")}),e.jsx("div",{className:s.ss_table_minority,children:J.map(r=>e.jsxs("div",{className:s.ss_table_minority_inner,children:[e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:i(r.name)}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},r.key))})]}),u==null?void 0:u.map(r=>e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:i(r.name)})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},r.key)),e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,style:{borderRight:"1px solid #cacaca"},children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"8rem"},children:i("all_grand_total")})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"F"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{borderRight:"1px solid #cacaca"},children:i("total")})]})]})]}),_==null?void 0:_.map((r,x)=>e.jsxs("section",{className:s.ss_table_header,style:{paddingTop:"0",paddingBottom:"1rem",height:"2rem"},children:[e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"2rem"},children:x+1})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"12rem"},children:r==null?void 0:r.className})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4rem"},children:r==null?void 0:r.strength})}),y==null?void 0:y.map(n=>e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r[`${n.name}_m_arr`]),children:r[`${n.name}_m`]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r[`${n.name}_f_arr`]),children:r[`${n.name}_f`]})]})},n.name)),e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsx("div",{className:s.ss_table_minority,children:K.map(n=>e.jsx("div",{className:s.ss_table_minority_inner,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r[`${sc.name}_m_arr`]),children:r[`${n.name}_m`]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r[`${sc.name}_f_arr`]),children:r[`${n.name}_f`]})]})},n.name))})}),g==null?void 0:g.map(n=>e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsxs("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r[`${n.name}_m_arr`]),children:[" ",r[`${n.name}_m`]]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2rem - 0.52rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r[`${n.name}_f_arr`]),children:r[`${n.name}_f`]})]})},n.name)),e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.6rem - 0.83rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r.boy_arr),children:r.boy}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.6rem - 0.83rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(r.girl_arr),children:r.girl}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{borderRight:"1px solid #cacaca",width:"calc(2.6rem - 0.83rem)"},children:r.strength})]})})]}))]})},p=[{name:"general",key:0},{name:"sc",key:1},{name:"st",key:2},{name:"dt",key:3},{name:"nt",key:4},{name:"obc",key:5},{name:"sbc",key:6},{name:"muslim",key:7},{name:"maratha",key:8},{name:"ews",key:9},{name:"ph",key:10},{name:"jk_students",key:11},{name:"goins_students",key:12}],J=[{name:"sikh",key:"sikh"},{name:"jainism",key:"jainism"},{name:"buddhism",key:"buddhism"},{name:"christian",key:"christian"},{name:"parsi",key:"parsi"},{name:"jews",key:"jews"}],u=[{name:"hindu",key:"hindu"},{name:"muslim",key:"muslim"}],y=[{name:"general"},{name:"sc"},{name:"st"},{name:"dt"},{name:"nt"},{name:"obc"},{name:"sbc"},{name:"muslim"},{name:"maratha"},{name:"ews"},{name:"ph"},{name:"jk"},{name:"goins"}],K=[{name:"sikh"},{name:"jain"},{name:"budh"},{name:"christian"},{name:"parsi"},{name:"jews"}],g=[{name:"hindu"},{name:"muslim"}],X=({batch:_,onSelect:i})=>{const l=()=>{i(_)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:o.assign_show_list_each,onClick:l,children:[e.jsx("img",{src:`${E}/class.svg`,style:{borderRadius:"0"},alt:"batch icon"}),e.jsx("div",{className:o.assign_each_paragraph,children:e.jsx("h6",{children:(_==null?void 0:_.batchName)??""})})]}),e.jsx(k,{customStyleBorder:{margin:"0"}})]})},Y=({onClose:_,onSelect:i,did:l})=>{const{t:c}=S(),[h,a]=d.useState([]),{departmentAllBatch:r,departmentAllBatchLoading:x}=z({did:l,skip:!l});d.useEffect(()=>{r!=null&&r.length&&a(r)},[r==null?void 0:r.length]);const n=t=>{if(t.target.value){let b=Z(r,t.target.value);a(b)}else a(r)},f=t=>{i(t)};return e.jsx(q,{onClose:_,children:e.jsxs("div",{className:o.modal_container,children:[e.jsx(N,{children:e.jsxs("div",{className:o.modal_container_outer_header,children:[e.jsx("div",{className:o.modal_container_header,children:e.jsx("h6",{children:c("select_batch")})}),e.jsx("img",{src:`${E}/close.svg`,alt:"close icon",onClick:_})]})}),e.jsx(k,{}),e.jsxs(N,{customStyle:{paddingTop:"0",paddingBottom:"1rem"},children:[e.jsxs("div",{className:o.assign_search_container,style:{marginBottom:"0.8rem"},children:[e.jsx("input",{type:"text",placeholder:c("search"),className:o.assign_search_input,onChange:n}),e.jsx("img",{src:`${O}/navbar-search.svg`,alt:"search icon"})]}),h==null?void 0:h.map(t=>e.jsx(X,{batch:t,onSelect:f},t==null?void 0:t._id))]})]})})},Z=(_,i)=>_==null?void 0:_.filter(l=>{var c;return(c=l==null?void 0:l.batchName)!=null&&c.includes(i)?l:null}),pe=({fid:_})=>{const{t:i}=S(),l=$(),[c,h]=d.useState("DEPARTMENT"),[a,r]=d.useState(""),[x,n]=d.useState(""),[f,t]=d.useState(!1),[b]=G(),[M,B]=d.useState([]),D=()=>{c==="OWN_DEPARTMENT"?h(""):l(-1)},F=()=>{h("DEPARTMENT")},R=m=>{r(m),h("BATCH")},A=m=>{h(""),m!=null&&m._id&&(n(m),t(j=>!j),b({bid:m==null?void 0:m._id}).then(j=>{var v,w,C;((w=(v=j.data)==null?void 0:v.excel_list)==null?void 0:w.length)>0&&B((C=j.data)==null?void 0:C.excel_list),t(P=>!P)}).catch({}))};return e.jsxs(e.Fragment,{children:[e.jsxs(H,{customStyle:{maxWidth:"870px"},children:[e.jsx(N,{children:e.jsx("div",{className:T.fm_header_container,children:e.jsx("h6",{children:i("student_statitics")})})}),e.jsx(k,{}),e.jsxs(N,{customStyle:{paddingTop:"0.2rem"},children:[e.jsxs("h6",{className:T.fm_title_heading,onClick:()=>h("OWN_DEPARTMENT"),children:[i("department_name")," "," : ",(a==null?void 0:a.dName)??""," ",e.jsx("span",{children:(x==null?void 0:x.batchName)??""})]}),e.jsx(I,{statitics:M})]})]}),c==="DEPARTMENT"||c==="OWN_DEPARTMENT"?e.jsx(Q,{onClose:D,fid:_,onSelect:R}):c==="BATCH"?e.jsx(Y,{onClose:F,did:a==null?void 0:a._id,onSelect:A}):null,f&&e.jsx(L,{})]})};export{pe as default};

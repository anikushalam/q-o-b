import{j as r,r as x}from"./index-134e5887.js";import{ak as g}from"./finance-manager-api-fb59fb59.js";import{U as v,s as T}from"./FinanceManager-bea28cd5.js";import{U as f}from"./UserMemberContentWrapper-eca956b4.js";import{u as E,n as L}from"./StaffMemberConfig-c9e9b23c.js";import{B as U,L as Y}from"./UserMemberProfileWrapper-3712cae2.js";import{d as $}from"./dayjs.min-92d8bb0f.js";import{s as o}from"./Income.module-200dd9e8.js";import{l as b}from"./localTime-e5de6b03.js";import{u as l}from"./AssestsBaseUrl-075cad6e.js";import"./decrypt-8baef3ab.js";import"./MethodType-30df8d44.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-80b5cd6b.js";import"./CreateButton-26558557.js";import"./auth-api-6dacce9f.js";import"./Modal-1da1be7e.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const h=({data:s})=>{var c,n,p;const{t:i}=l();return r.jsxs("div",{className:o.student_message_container,children:[r.jsxs("div",{className:o.text,children:[r.jsx("p",{className:o.rcv,children:i("message")}),r.jsx("h6",{children:(s==null?void 0:s.message)??""}),r.jsxs("p",{className:o.rcv,children:[i("by")," "," : ",(s==null?void 0:s.message_type)??"",s!=null&&s.from?`(${((c=s==null?void 0:s.from)==null?void 0:c.staffFirstName)??""} ${((n=s==null?void 0:s.from)==null?void 0:n.staffMiddleName)??""} ${((p=s==null?void 0:s.from)==null?void 0:p.staffLastName)??""})`:""]})]}),r.jsxs("div",{className:o.text,children:[r.jsxs("h6",{children:[i("student")," "," : "," ",(s==null?void 0:s.student_list_count)??0]}),r.jsxs("p",{className:o.rcv,children:[$(s==null?void 0:s.created_at).format("DD MMM, YYYY"),", ",b(s==null?void 0:s.created_at,"LT")]})]})]})},S=({instituteId:s})=>{const{t:i}=l(),[c,n]=x.useState(1),[p,j]=x.useState(!0),[u,t]=E(),{financeAllStudentMessageHistory:e,financeAllStudentMessageHistoryLoading:_}=g({data:{id:s,page:c,limit:10,flow:"INSTITUTE_ADMIN"},skip:!s});return x.useEffect(()=>{t&&p&&n(m=>m+1)},[t,p]),x.useEffect(()=>{e!=null&&e.length&&L(e==null?void 0:e.length,j)},[e==null?void 0:e.length]),r.jsxs(v,{children:[r.jsx(f,{children:r.jsx("div",{className:T.fm_header_container,children:r.jsx("h6",{children:i("student_message_history")})})}),r.jsx(U,{}),r.jsxs(f,{customStyle:{paddingTop:"0.3rem"},children:[_&&r.jsx(Y,{}),e==null?void 0:e.map((m,N)=>(e==null?void 0:e.length)===N+1?r.jsx("div",{ref:u,children:r.jsx(h,{data:m})},m==null?void 0:m._id):r.jsx(h,{data:m},m==null?void 0:m._id))]})]})};export{S as default};

import{f as U,u as w,a as y,j as r,i as E,r as c}from"./index-40ad8b25.js";import{u as P,b as k,f as M}from"./AssestsBaseUrl-2ebdccdb.js";import{U as R,s as p}from"./FinanceManager-b4a07d77.js";import{U as v}from"./UserMemberContentWrapper-04d21be5.js";import{B as V,L as B}from"./UserMemberProfileWrapper-b0858c1e.js";import{a as d,Q as A,n as D,j as I}from"./StaffMemberConfig-a8337ee7.js";import{s as g}from"./PendingFees.module-400ac0f4.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-945cedfe.js";import"./dayjs.min-c62bdfdc.js";import"./CreateButton-86dcb64a.js";import"./auth-api-a0a156f1.js";import"./MethodType-30df8d44.js";import"./Modal-53e97914.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";import"./decrypt-a000b880.js";const N=({studentFees:a})=>{var m,n,s;const{t:l}=P(),h=U(),x=w(),j=y(),_=()=>{x(`/${h.username}/student/profile`,{state:{...j.state,studentId:a==null?void 0:a._id}})};return r.jsxs("div",{className:g.pending_fees_card,onClick:_,title:"View Profile",children:[r.jsxs("div",{className:g.pending_fees_card_container,children:[r.jsx("img",{alt:"Student Avatar",src:a!=null&&a.studentProfilePhoto?`${E}/${a==null?void 0:a.studentProfilePhoto}`:`${k}/feed-user-avatar.svg`,loading:"lazy"}),r.jsxs("div",{className:g.pending_fees_card_inner,children:[r.jsx("h6",{children:`${a==null?void 0:a.studentFirstName} ${a!=null&&a.studentMiddleName?a==null?void 0:a.studentMiddleName:""} ${a==null?void 0:a.studentLastName}`}),r.jsxs("p",{children:[l("gr_number")," : ",(a==null?void 0:a.studentGRNO)??""," ",", ",((m=a==null?void 0:a.department)==null?void 0:m.dName)??""]}),r.jsxs("p",{children:[l("class")," "," : ",`${((n=a==null?void 0:a.studentClass)==null?void 0:n.className)??""} -  ${((s=a==null?void 0:a.studentClass)==null?void 0:s.classTitle)??""}`]})]})]}),r.jsxs("div",{className:g.pending_fees_card_inner,children:[r.jsxs("h6",{children:["Rs. ",a==null?void 0:a.studentRemainingFeeCount]}),r.jsx("p",{children:l("pending_fees")})]})]})},Q=({fid:a})=>{const{t:l}=P(),[h,x]=c.useState(""),[j,_]=c.useState(1),[m,n]=c.useState(!0),[s,f]=d({skip:h}),{financeFeeList:i,financeFeeListLoading:$}=A({data:{finance:a,page:j,limit:10,search:h},skip:!a});c.useEffect(()=>{f&&m&&_(o=>o+1)},[f,m]),c.useEffect(()=>{i!=null&&i.length&&D(i==null?void 0:i.length,n)},[i==null?void 0:i.length]);const b=c.useCallback(I(o=>x(o),500),[]),C=o=>{b(o.target.value)};return r.jsxs(R,{children:[r.jsx(v,{children:r.jsxs("div",{className:p.fm_header_container,children:[r.jsx("h6",{children:l("pending_fees")}),r.jsx("div",{className:p.fm_search,children:r.jsx("section",{className:p.fm_search_container,children:r.jsxs("div",{className:p.fm_search_container_inner,children:[r.jsx("img",{className:p.fm_search_icon,alt:"search icon",src:`${M}/navbar-search.svg`}),r.jsx("input",{type:"text",placeholder:l("search"),onChange:C})]})})})]})}),r.jsx(V,{}),r.jsxs(v,{children:[$&&r.jsx(B,{}),i==null?void 0:i.map((o,S)=>(i==null?void 0:i.length)===S+1?r.jsx("div",{ref:s,children:r.jsx(N,{studentFees:o})},o==null?void 0:o._id):r.jsx(N,{studentFees:o},o==null?void 0:o._id))]})]})},ra=c.memo(Q);export{ra as default};

import{j as t,i as F,r as a}from"./index-0b7f6bad.js";import{ak as L}from"./finance-manager-api-60207d3b.js";import{u as $,n as w,c as E}from"./StaffMemberConfig-a4319af1.js";import{s as m}from"./FinanceManager-a3d1c044.js";import{u as _,d as U,c as D,f as C}from"./AssestsBaseUrl-b3cf1f1b.js";import{s as o}from"./TransactionHistory-f56009a7.js";import{l as h}from"./localTime-457a5ccd.js";import{L as T}from"./UserMemberProfileWrapper-9593601c.js";import"./decrypt-74cd38a1.js";import"./MethodType-30df8d44.js";import"./UserMemberContentWrapper-bd4f7483.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-4c2d301f.js";import"./dayjs.min-2c4d82f7.js";import"./CreateButton-31b890b3.js";import"./auth-api-e4fca9d4.js";import"./Modal-07d3eb1d.js";import"./Utils.module-b6acf444.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const x=({repay:s})=>{var n,l;const{t:i}=_();return t.jsxs("div",{className:o.settle_card,children:[t.jsxs("div",{className:o.settle_card_container,children:[t.jsx("img",{src:`${U}/qviple-logo.svg`,alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),t.jsxs("div",{className:o.settle_card_text,children:[t.jsxs("h6",{children:[i("settlement_date")," "," : ",(s==null?void 0:s.settlement_date)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[i("message")," "," : "," ",(s==null?void 0:s.message)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[i("transaction_id")," : "," ",(s==null?void 0:s.txnId)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[i("bank_name")," : ",((l=(n=s==null?void 0:s.bank_account)==null?void 0:n[0])==null?void 0:l.finance_bank_account_name)??""]})]})]}),t.jsxs("div",{className:o.settle_card_text,style:{alignItems:"flex-end"},children:[s!=null&&s.excel_attach?t.jsx("a",{title:"Download File",href:`${F}/${s==null?void 0:s.excel_attach}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:t.jsx("img",{src:`${D}/xsxl.svg`,alt:"excel icon"})}):null,t.jsxs("h6",{children:[i("rs")," ",(s==null?void 0:s.repayAmount)??""]}),t.jsxs("p",{className:o.settle_paragraph,children:[h(s==null?void 0:s.createdAt,"L"),", ",h(s==null?void 0:s.createdAt,"LT")]})]})]})},p=({instituteId:s})=>{const{t:i}=_(),[n,l]=a.useState(""),[g,u]=a.useState(1),[r,j]=a.useState(!0),[f,d]=$({skip:n}),{financeAllSettlement:e,financeAllSettlementLoading:v}=L({data:{fid:s,page:g,limit:10,search:n},skip:!s});a.useEffect(()=>{d&&r&&u(c=>c+1)},[d,r]),a.useEffect(()=>{e!=null&&e.length&&w(e==null?void 0:e.length,j)},[e==null?void 0:e.length]);const N=a.useCallback(E(c=>l(c),500),[]),b=c=>{N(c.target.value)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:m.fm_search_full,children:t.jsx("section",{className:m.fm_search_full_container,children:t.jsxs("div",{className:m.fm_search_full_container_inner,children:[t.jsx("img",{className:m.fm_search_full_icon,alt:"search icon",src:`${C}/navbar-search.svg`}),t.jsx("input",{type:"text",placeholder:i("search"),onChange:b})]})})}),v&&t.jsx(T,{}),e==null?void 0:e.map((c,k)=>(e==null?void 0:e.length)===k+1?t.jsx("div",{ref:f,children:t.jsx(x,{repay:c})},c==null?void 0:c._id):t.jsx(x,{repay:c},c==null?void 0:c._id))]})};export{p as default};

import{j as r,r as t}from"./index-840de58d.js";import{a as g,an as v,n as T}from"./StaffMemberConfig-7a36179e.js";import{U as E,s as L}from"./FinanceManager-0ca2f058.js";import{U as h,B as U}from"./UserMemberContentWrapper-d4cbea5a.js";import{L as Y}from"./Loading-1f40e573.js";import{d as $}from"./dayjs.min-1b7b0994.js";import{s as o}from"./Income.module-ac045463.js";import{l as b}from"./localTime-e3caacba.js";import{u as f}from"./AssestsBaseUrl-3e7ac4b0.js";import"./decrypt-c89175fd.js";import"./MethodType-30df8d44.js";import"./Modal-6a8c66d1.js";import"./BackdropModal-142f7ac8.js";import"./Utils.module-b6acf444.js";import"./UserDrawer-bfa56692.js";import"./UiTab.module-f6b989ec.js";import"./FormInputView-8f94e437.js";import"./CreateButton-390a73d1.js";import"./auth-api-76ff487b.js";import"./checkingRequiredField-382733fa.js";import"./PlateformUser.module-0e3694bb.js";const l=({data:s})=>{var c,n,p;const{t:i}=f();return r.jsxs("div",{className:o.student_message_container,children:[r.jsxs("div",{className:o.text,children:[r.jsx("p",{className:o.rcv,children:i("message")}),r.jsx("h6",{children:(s==null?void 0:s.message)??""}),r.jsxs("p",{className:o.rcv,children:[i("by")," "," : ",(s==null?void 0:s.message_type)??"",s!=null&&s.from?`(${((c=s==null?void 0:s.from)==null?void 0:c.staffFirstName)??""} ${((n=s==null?void 0:s.from)==null?void 0:n.staffMiddleName)??""} ${((p=s==null?void 0:s.from)==null?void 0:p.staffLastName)??""})`:""]})]}),r.jsxs("div",{className:o.text,children:[r.jsxs("h6",{children:[i("student")," "," : "," ",(s==null?void 0:s.student_list_count)??0]}),r.jsxs("p",{className:o.rcv,children:[$(s==null?void 0:s.created_at).format("DD MMM, YYYY"),", ",b(s==null?void 0:s.created_at,"LT")]})]})]})},X=({instituteId:s})=>{const{t:i}=f(),[c,n]=t.useState(1),[p,j]=t.useState(!0),[_,x]=g(),{financeAllStudentMessageHistory:e,financeAllStudentMessageHistoryLoading:u}=v({data:{id:s,page:c,limit:10,flow:"INSTITUTE_ADMIN"},skip:!s});return t.useEffect(()=>{x&&p&&n(m=>m+1)},[x,p]),t.useEffect(()=>{e!=null&&e.length&&T(e==null?void 0:e.length,j)},[e==null?void 0:e.length]),r.jsxs(E,{children:[r.jsx(h,{children:r.jsx("div",{className:L.fm_header_container,children:r.jsx("h6",{children:i("student_message_history")})})}),r.jsx(U,{}),r.jsxs(h,{customStyle:{paddingTop:"0.3rem"},children:[u&&r.jsx(Y,{}),e==null?void 0:e.map((m,N)=>(e==null?void 0:e.length)===N+1?r.jsx("div",{ref:_,children:r.jsx(l,{data:m})},m==null?void 0:m._id):r.jsx(l,{data:m},m==null?void 0:m._id))]})]})};export{X as default};
